<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.0"/>
    <title>polar_diagrams API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="function" href="#df_calculate_td_properties">df_calculate_td_properties</a>
            </li>
            <li>
                    <a class="function" href="#df_calculate_mid_properties">df_calculate_mid_properties</a>
            </li>
            <li>
                    <a class="function" href="#df_calculate_all_properties">df_calculate_all_properties</a>
            </li>
            <li>
                    <a class="function" href="#chart_create_taylor_diagram">chart_create_taylor_diagram</a>
            </li>
            <li>
                    <a class="function" href="#chart_create_mi_diagram">chart_create_mi_diagram</a>
            </li>
            <li>
                    <a class="function" href="#chart_create_all_diagrams">chart_create_all_diagrams</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
polar_diagrams    </h1>

                
                        <input id="mod-polar_diagrams-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-polar_diagrams-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="kn">import</span> <span class="nn">math</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="kn">import</span> <span class="nn">warnings</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="kn">from</span> <span class="nn">scipy.sparse</span> <span class="kn">import</span> <span class="n">issparse</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">differential_entropy</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="kn">from</span> <span class="nn">sklearn.utils.validation</span> <span class="kn">import</span> <span class="n">check_array</span><span class="p">,</span> <span class="n">check_X_y</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="kn">from</span> <span class="nn">sklearn.feature_selection</span> <span class="kn">import</span> <span class="n">mutual_info_regression</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="kn">from</span> <span class="nn">sklearn.feature_selection</span> <span class="kn">import</span> <span class="n">mutual_info_classif</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="kn">from</span> <span class="nn">plotly.subplots</span> <span class="kn">import</span> <span class="n">make_subplots</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Aleksandar Anžel&#39;</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="n">__copyright__</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="n">__credits__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Aleksandar Anžel&#39;</span><span class="p">]</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="n">__license__</span> <span class="o">=</span> <span class="s1">&#39;GNU General Public License v3.0&#39;</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;1.0&#39;</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="n">__maintainer__</span> <span class="o">=</span> <span class="s1">&#39;Aleksandar Anžel&#39;</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="n">__email__</span> <span class="o">=</span> <span class="s1">&#39;aleksandar.anzel@uni-marburg.de&#39;</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="n">__status__</span> <span class="o">=</span> <span class="s1">&#39;Dev&#39;</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a><span class="n">_STRING_BACKGROUND_COLOR</span> <span class="o">=</span> <span class="s1">&#39;#FFFFFF&#39;</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="n">_STRING_GRID_COLOR</span> <span class="o">=</span> <span class="s1">&#39;#C0C0C0&#39;</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="n">_STRING_LABEL_TITLE_COLOR</span> <span class="o">=</span> <span class="s1">&#39;#404040&#39;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="n">_STRING_TICK_COLOR</span> <span class="o">=</span> <span class="s1">&#39;#000000&#39;</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a><span class="n">_STRING_GRID_STYLE</span> <span class="o">=</span> <span class="s1">&#39;solid&#39;</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a><span class="n">_INT_TICK_WIDTH</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="n">_INT_RANDOM_SEED</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="n">_INT_MARKER_SIZE</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="n">_INT_MARKER_LINE_WIDTH</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a><span class="n">_INT_CHART_WIDTH</span> <span class="o">=</span> <span class="mi">1400</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="n">_INT_CHART_HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="n">_INT_LEGEND_X</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="n">_INT_LEGEND_Y</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="n">_FLOAT_MARKER_OPACITY</span> <span class="o">=</span> <span class="mf">0.60</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="n">_FLOAT_LEGEND_BORDER_WIDTH</span> <span class="o">=</span> <span class="mf">0.2</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a><span class="c1"># Note: Color acquired from: https://public.tableau.com/views/TableauColors/ColorsbyHexCode?%3Aembed=y&amp;%3AshowVizHome=no&amp;%3Adisplay_count=y&amp;%3Adisplay_static_image=y # noqa</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="n">_LIST_TABLEAU_10</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#1f77b4&#39;</span><span class="p">,</span> <span class="s1">&#39;#2ca02c&#39;</span><span class="p">,</span> <span class="s1">&#39;#7f7f7f&#39;</span><span class="p">,</span> <span class="s1">&#39;#8c564b&#39;</span><span class="p">,</span> <span class="s1">&#39;#17becf&#39;</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>                    <span class="s1">&#39;#9467bd&#39;</span><span class="p">,</span> <span class="s1">&#39;#bcbd22&#39;</span><span class="p">,</span> <span class="s1">&#39;#d62728&#39;</span><span class="p">,</span> <span class="s1">&#39;#e377c2&#39;</span><span class="p">,</span> <span class="s1">&#39;#ff7f0e&#39;</span><span class="p">]</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a><span class="n">_LIST_TABLEAU_20</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#1f77b4&#39;</span><span class="p">,</span> <span class="s1">&#39;#aec7e8&#39;</span><span class="p">,</span> <span class="s1">&#39;#ff7f0e&#39;</span><span class="p">,</span> <span class="s1">&#39;#ffbb78&#39;</span><span class="p">,</span> <span class="s1">&#39;#2ca02c&#39;</span><span class="p">,</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a>                    <span class="s1">&#39;#98df8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#d62728&#39;</span><span class="p">,</span> <span class="s1">&#39;#ff9896&#39;</span><span class="p">,</span> <span class="s1">&#39;#9467bd&#39;</span><span class="p">,</span> <span class="s1">&#39;#c5b0d5&#39;</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a>                    <span class="s1">&#39;#8c564b&#39;</span><span class="p">,</span> <span class="s1">&#39;#c49c94&#39;</span><span class="p">,</span> <span class="s1">&#39;#e377c2&#39;</span><span class="p">,</span> <span class="s1">&#39;#f7b6d2&#39;</span><span class="p">,</span> <span class="s1">&#39;#7f7f7f&#39;</span><span class="p">,</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a>                    <span class="s1">&#39;#c7c7c7&#39;</span><span class="p">,</span> <span class="s1">&#39;#bcbd22&#39;</span><span class="p">,</span> <span class="s1">&#39;#dbdb8d&#39;</span><span class="p">,</span> <span class="s1">&#39;#17becf&#39;</span><span class="p">,</span> <span class="s1">&#39;#9edae5&#39;</span><span class="p">]</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="k">def</span> <span class="nf">df_calculate_td_properties</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a>                               <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">):</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a><span class="sd">    df_calculate_td_properties caclulates all necessary statistical information</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a><span class="sd">    for the Taylor diagram from the input data set.</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a><span class="sd">    Args:</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe has models in columns and</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a><span class="sd">          model prediction in rows. It is used to calculate relevant</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a><span class="sd">          statistical information.</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a><span class="sd">    Raises:</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a><span class="sd">        ValueError: The error is raised if the string_corr_method is not one of</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a><span class="sd">          the following &#39;pearson&#39;, &#39;kendall&#39;, &#39;spearman&#39;.</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="sd">    Returns:</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a><span class="sd">        pandas.DataFrame: This dataframe contains model names as indices and</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a><span class="sd">          statistical properties as columns.</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a>    <span class="n">df_input</span> <span class="o">=</span> <span class="n">_df_check_df_raw_input</span><span class="p">(</span><span class="n">df_input</span><span class="p">)</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a>    <span class="n">list_valid_corr_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span> <span class="s1">&#39;kendall&#39;</span><span class="p">,</span> <span class="s1">&#39;spearman&#39;</span><span class="p">]</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a>    <span class="k">if</span> <span class="n">string_corr_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_corr_methods</span><span class="p">:</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_corr_method is not one of the following:&#39;</span> <span class="o">+</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a>                         <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_corr_methods</span><span class="p">))</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>    <span class="n">list_all_features</span> <span class="o">=</span> <span class="n">df_input</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>    <span class="c1"># Initialize dict</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a>    <span class="n">dict_result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a>        <span class="c1"># Calculating standard deviations</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a>            <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>        <span class="c1"># Calculating Pearson&#39;s correlation</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a>            <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="n">string_corr_method</span><span class="p">))</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>        <span class="c1"># Calculate arccos of Pearson&#39;s correlation</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a>            <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])))</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a>        <span class="c1"># Calculating RMS</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>            <span class="n">mean_squared_error</span><span class="p">(</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">],</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>        <span class="c1"># Normalizing the RMS as in the paper</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>        <span class="c1"># Calculating normalized standard deviation</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">dict_result</span><span class="p">[</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>                <span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>        <span class="n">dict_result</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Standard Deviation&#39;</span><span class="p">,</span> <span class="s1">&#39;Correlation&#39;</span><span class="p">,</span> <span class="s1">&#39;Angle&#39;</span><span class="p">,</span> <span class="s1">&#39;RMS&#39;</span><span class="p">,</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>                 <span class="s1">&#39;Normalized RMS&#39;</span><span class="p">,</span> <span class="s1">&#39;Normalized Standard Deviation&#39;</span><span class="p">])</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">df_result</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">})</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>    <span class="k">return</span> <span class="n">df_result</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a><span class="k">def</span> <span class="nf">_float_calculate_discrete_entropy</span><span class="p">(</span><span class="n">list_labels</span><span class="p">,</span> <span class="n">int_base</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a><span class="sd">    _float_calculate_discrete_entropy calculates Shannon (discrete) entropy of</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a><span class="sd">    the passed list of labels.</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a><span class="sd">    Args:</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a><span class="sd">        list_labels (list): This elements of this list are labels that can be</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a><span class="sd">          of any type (numerical, characters, etc.).</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a><span class="sd">        int_base (int, optional): This parameter defines the base of the</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a><span class="sd">          logarithmic function which is used when the resulting entropy is</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a><span class="sd">          calculated. Defaults to 2.</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a><span class="sd">    Returns:</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a><span class="sd">        float: The resulting Shannon (discrete) entropy.</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>    <span class="n">int_num_of_labels</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_labels</span><span class="p">)</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>    <span class="k">if</span> <span class="n">int_num_of_labels</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>    <span class="n">list_value</span><span class="p">,</span> <span class="n">list_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">list_labels</span><span class="p">,</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>    <span class="n">list_probabilities</span> <span class="o">=</span> <span class="n">list_counts</span> <span class="o">/</span> <span class="n">int_num_of_labels</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>    <span class="n">int_num_of_classes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">list_probabilities</span><span class="p">)</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>    <span class="k">if</span> <span class="n">int_num_of_classes</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>    <span class="n">float_entropy</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>    <span class="k">for</span> <span class="n">float_one_probability</span> <span class="ow">in</span> <span class="n">list_probabilities</span><span class="p">:</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>        <span class="n">float_entropy</span> <span class="o">-=</span> <span class="n">float_one_probability</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a>            <span class="n">float_one_probability</span><span class="p">,</span> <span class="n">int_base</span><span class="p">)</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>    <span class="k">return</span> <span class="n">float_entropy</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a><span class="k">def</span> <span class="nf">_dict_check_discrete_models</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>                                <span class="n">dict_mi_parameters</span><span class="p">):</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a><span class="sd">    _dict_check_discrete_models checks if</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a><span class="sd">    dict_mi_parameters[&#39;discrete_models&#39;] is valid argument as defined in</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a><span class="sd">    scikit-learn library.</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a><span class="sd">    Args:</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe has models in columns and</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a><span class="sd">          model prediction in rows. It is used to calculate relevant</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a><span class="sd">          information theory properties</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a><span class="sd">        dict_mi_parameters (dict): This dictionary contains configuration</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a><span class="sd">          parameters for the calculation of entropy and mutual information.</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a><span class="sd">    Raises:</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a><span class="sd">        ValueError: Raises error if dict_mi_parameters[&#39;discrete_models&#39;]</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a><span class="sd">        is not valid.</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a><span class="sd">    Returns:</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a><span class="sd">        dict: The dictionary where keys are column names that are different</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a><span class="sd">          than string_reference_model and keys that are boolean and say if that</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a><span class="sd">          model has discrete or continous values. Those keys are validated</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a><span class="sd">          using this function.</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>    <span class="c1"># This check was acquired from https://github.com/scikit-learn/scikit-learn/blob/d949e7f731c99db8a88d16532f5476b52033bf8f/sklearn/feature_selection/_mutual_info.py#L5 # noqa</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>    <span class="n">X</span> <span class="o">=</span> <span class="n">df_input</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">string_reference_model</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>    <span class="n">y</span> <span class="o">=</span> <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">]</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>    <span class="n">list_X_columns</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>    <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>        <span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">check_X_y</span><span class="p">(</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>            <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">accept_sparse</span><span class="o">=</span><span class="s2">&quot;csc&quot;</span><span class="p">,</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>            <span class="n">y_numeric</span><span class="o">=</span><span class="ow">not</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">])</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>    <span class="n">n_samples</span><span class="p">,</span> <span class="n">n_features</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)):</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>            <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>                <span class="n">discrete_models</span> <span class="o">=</span> <span class="n">issparse</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid string value for discrete_models.&quot;</span><span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>        <span class="n">discrete_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">n_features</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>        <span class="n">discrete_mask</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">])</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a>        <span class="n">discrete_models</span> <span class="o">=</span> <span class="n">check_array</span><span class="p">(</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a>            <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">],</span> <span class="n">ensure_2d</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>        <span class="k">if</span> <span class="n">discrete_models</span><span class="o">.</span><span class="n">dtype</span> <span class="o">!=</span> <span class="s2">&quot;bool&quot;</span><span class="p">:</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a>            <span class="n">discrete_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_features</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a>            <span class="n">discrete_mask</span><span class="p">[</span><span class="n">discrete_models</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>            <span class="n">discrete_mask</span> <span class="o">=</span> <span class="n">discrete_models</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a>    <span class="n">dict_feature_discrete_mask</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">string_one_column_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_X_columns</span><span class="p">):</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a>        <span class="n">dict_feature_discrete_mask</span><span class="p">[</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a>            <span class="n">string_one_column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">discrete_mask</span><span class="p">[</span><span class="n">int_i</span><span class="p">]</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>    <span class="k">return</span> <span class="n">dict_feature_discrete_mask</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a><span class="k">def</span> <span class="nf">df_calculate_mid_properties</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a>                                <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>                                    <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>                                    <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>                                    <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>                                    <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>                                    <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">)):</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a><span class="sd">    df_calculate_mid_properties caclulates all necessary information theory</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a><span class="sd">    properties for the Mutual Information diagram from the input data set.</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a><span class="sd">    Args:</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe has models in columns and</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a><span class="sd">          model prediction in rows. It is used to calculate relevan</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a><span class="sd">          information theory propertiesdict_mi_parameters[&#39;discrete_models&#39;]</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a><span class="sd">          information. Defaults to</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_models=&#39;auto&#39;,</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a><span class="sd">    Raises:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a><span class="sd">        ValueError: The error is raised if int_mi_n_neighbors is less or equal</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a><span class="sd">          than zero.</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a><span class="sd">        ValueError: The error is raised if string_entropy_method is not one of</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a><span class="sd">          the following &#39;vasicek&#39;, &#39;van es&#39;, &#39;ebrahimi&#39;, &#39;correa&#39;, &#39;auto&#39;</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a><span class="sd">    Returns:</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a><span class="sd">        pandas.DataFrame: This dataframe contains model names as indices and</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a><span class="sd">          information theory properties as columns.</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>    <span class="n">df_input</span> <span class="o">=</span> <span class="n">_df_check_df_raw_input</span><span class="p">(</span><span class="n">df_input</span><span class="p">)</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>    <span class="n">dict_feature_discrete_mask</span> <span class="o">=</span> <span class="n">_dict_check_discrete_models</span><span class="p">(</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>        <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>    <span class="n">list_valid_parameters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">,</span> <span class="s1">&#39;string_entropy_method&#39;</span><span class="p">,</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>                             <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">,</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>                             <span class="s1">&#39;int_random_state&#39;</span><span class="p">]</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>    <span class="n">list_valid_entropy_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;vasicek&#39;</span><span class="p">,</span> <span class="s1">&#39;van es&#39;</span><span class="p">,</span> <span class="s1">&#39;ebrahimi&#39;</span><span class="p">,</span> <span class="s1">&#39;correa&#39;</span><span class="p">,</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>                                  <span class="s1">&#39;auto&#39;</span><span class="p">]</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>    <span class="n">list_valid_discrete_target</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>    <span class="n">list_valid_float_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">]</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">string_parameter</span> <span class="ow">in</span> <span class="n">dict_mi_parameters</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>               <span class="k">for</span> <span class="n">string_parameter</span> <span class="ow">in</span> <span class="n">list_valid_parameters</span><span class="p">):</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;dict_mi_parameters must contain all of the keys&#39;</span> <span class="o">+</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>                         <span class="s1">&#39; from this list &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_parameters</span><span class="p">))</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>    <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;int_mi_n_neighbors has to be greater than 0.&#39;</span><span class="p">)</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>    <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>            <span class="s1">&#39;string_entropy_method&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_entropy_methods</span><span class="p">:</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_entropy_method is not one of the&#39;</span> <span class="o">+</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>                         <span class="s1">&#39; following:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_entropy_methods</span><span class="p">))</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>    <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>            <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_discrete_target</span><span class="p">:</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;bool_discrete_reference_model is not one of the&#39;</span> <span class="o">+</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>                         <span class="s1">&#39; following:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_discrete_target</span><span class="p">))</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>    <span class="n">list_all_features</span> <span class="o">=</span> <span class="n">df_input</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>    <span class="c1"># Initialize dict</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>    <span class="n">dict_result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>    <span class="c1"># That is causing an error when calculating angles</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>    <span class="c1"># Try to find better default parameters so it doesn&#39;t happen</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>        <span class="c1"># Calculate entropies</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>        <span class="c1"># 0 in the list</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>        <span class="k">if</span> <span class="n">string_one_model</span> <span class="o">==</span> <span class="n">string_reference_model</span><span class="p">:</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>            <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">]:</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>                <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>                    <span class="n">_float_calculate_discrete_entropy</span><span class="p">(</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>                        <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">int_base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>                <span class="k">if</span> <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="ow">in</span> <span class="n">list_valid_float_types</span><span class="p">:</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>                    <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>                        <span class="n">differential_entropy</span><span class="p">(</span><span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>                                             <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>                        <span class="s1">&#39;Model named &#39;</span> <span class="o">+</span> <span class="n">string_one_model</span> <span class="o">+</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>                        <span class="s1">&#39; is said to be contionus but has values&#39;</span> <span class="o">+</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>                        <span class="s1">&#39; that are not one of the following type &#39;</span> <span class="o">+</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>                        <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_float_types</span><span class="p">))</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>            <span class="k">if</span> <span class="n">dict_feature_discrete_mask</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]:</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>                <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>                    <span class="n">_float_calculate_discrete_entropy</span><span class="p">(</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>                        <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">int_base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>                <span class="k">if</span> <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="ow">in</span> <span class="n">list_valid_float_types</span><span class="p">:</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>                    <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>                        <span class="n">differential_entropy</span><span class="p">(</span><span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>                                             <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>                        <span class="s1">&#39;Model named &#39;</span> <span class="o">+</span> <span class="n">string_one_model</span> <span class="o">+</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a>                        <span class="s1">&#39; is said to be contionus but has values&#39;</span> <span class="o">+</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a>                        <span class="s1">&#39; that are not one of the following type &#39;</span> <span class="o">+</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>                        <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_float_types</span><span class="p">))</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>        <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">]:</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>            <span class="c1"># Calculate mutual informations against the reference feature</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>            <span class="c1"># 1 in the list</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>                <span class="n">mutual_info_classif</span><span class="p">(</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">],</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>                    <span class="n">random_state</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;int_random_state&#39;</span><span class="p">],</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>                    <span class="n">discrete_features</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">]</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>                    <span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>            <span class="c1"># Calculate mutual informations against the reference feature</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>            <span class="c1"># 1 in the list</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>                <span class="n">mutual_info_regression</span><span class="p">(</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">],</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>                    <span class="n">random_state</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;int_random_state&#39;</span><span class="p">],</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>                    <span class="n">discrete_features</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">]</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>                    <span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>        <span class="c1"># Calculating fixed MI from equation 17 from the paper</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a>        <span class="c1"># I(X,Y) = I~(X,Y) * (H(X) / I~(X,X)) where I~ is MI calculated using</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>        <span class="c1"># some estimation method. This MI is used for every calculation</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>        <span class="c1"># afterwards</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>        <span class="c1"># 2 in the list</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>            <span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>             <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>        <span class="c1"># Calculate normalized (centered) entropies</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>        <span class="c1"># 3 in the list</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>        <span class="c1"># Calculate normalized mutual information according to the paper</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>        <span class="c1"># NMI(X,Y) = I(X,Y) / sqrt(H(X) * H(Y))</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>        <span class="c1"># This has to be modified because H(X)*H(Y) can be negative for</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>        <span class="c1"># differential entropies. NMI is not used at all for the MI chart</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a>        <span class="c1"># that spans two quadrants</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>        <span class="c1"># 4 in the list</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>        <span class="n">float_product</span> <span class="o">=</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span>\
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a>        <span class="k">if</span> <span class="n">float_product</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>            <span class="n">float_product</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>        <span class="n">float_divide</span> <span class="o">=</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span>\
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>            <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">float_product</span><span class="p">)</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">float_divide</span><span class="p">)</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>        <span class="c1"># Calculate arccos of normalized mutual information according to the</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>        <span class="c1"># paper arccos(NMI(X,Y))</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>        <span class="c1"># 5 in the list</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a>        <span class="k">if</span> <span class="n">float_divide</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>        <span class="k">elif</span> <span class="n">float_divide</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">float_divide</span><span class="p">)))</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a>        <span class="c1"># Calculate root entropy</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a>        <span class="c1"># 6 in the list</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>        <span class="k">if</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a>            <span class="n">float_root_entropy</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>            <span class="n">float_root_entropy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">float_root_entropy</span><span class="p">)</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>        <span class="c1">######################################################################</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>        <span class="c1"># This part is for the chart that spans two quadrants</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a>        <span class="c1"># First calculate joint entropies by using equation 10 from the paper</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a>        <span class="c1"># I(X,Y) = H(X) + H(Y) - H(X,Y) =&gt; H(X,Y) = H(X) + H(Y) - I(X,Y)</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a>        <span class="c1"># 7 in the list</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>        <span class="c1"># Calculate scaled mutual information according to the paper</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>        <span class="c1"># SMI(X,Y) = I(X,Y) * ((H(X,Y) / (H(X)*H(Y)))) (equation 15)</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a>        <span class="c1"># 8 in the list</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>        <span class="n">smi_x_y</span> <span class="o">=</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a>            <span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a>             <span class="o">*</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">smi_x_y</span><span class="p">)</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>        <span class="c1"># Calculate arccos of biased scaled mutual information according to the</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a>        <span class="c1"># paper arccos(c(X,Y)) where c(X,Y) = 2*SMI(X,Y) - 1</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>        <span class="c1"># 9 in the list</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>        <span class="n">float_c_x_y</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">smi_x_y</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>        <span class="k">if</span> <span class="n">float_c_x_y</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>        <span class="k">elif</span> <span class="n">float_c_x_y</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">float_c_x_y</span><span class="p">)))</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>        <span class="c1"># Calculate normalized root entropy</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>        <span class="c1"># 10 in the list</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span> <span class="o">/</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">6</span><span class="p">])</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>        <span class="c1">######################################################################</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>        <span class="c1"># Calculate the variation of information (VI) using the equation 11</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>        <span class="c1"># from the paper: VI(X,Y) = H(X) + H(Y) - 2I(X;Y)</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>        <span class="c1"># 11 in the list</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>            <span class="mi">2</span> <span class="o">*</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>        <span class="c1"># Calculate the root variation of information (RVI)</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a>        <span class="c1"># 12 in the list</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>        <span class="k">if</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>        <span class="n">dict_result</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;Mutual Information&#39;</span><span class="p">,</span> <span class="s1">&#39;Fixed_MI&#39;</span><span class="p">,</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>                 <span class="s1">&#39;Normalized Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;Normalized MI&#39;</span><span class="p">,</span> <span class="s1">&#39;Angle_NMI&#39;</span><span class="p">,</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>                 <span class="s1">&#39;Root Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;Joint_entropies&#39;</span><span class="p">,</span> <span class="s1">&#39;Scaled MI&#39;</span><span class="p">,</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>                 <span class="s1">&#39;Angle_SMI&#39;</span><span class="p">,</span> <span class="s1">&#39;Normalized Root Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;RVI&#39;</span><span class="p">])</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">df_result</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">})</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>    <span class="k">return</span> <span class="n">df_result</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a><span class="k">def</span> <span class="nf">df_calculate_all_properties</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>                                <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>                                    <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>                                    <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>                                    <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>                                    <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>                                    <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">),</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>                                <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">):</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a><span class="sd">    df_calculate_all_properties caclulates all necessary statistical and</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a><span class="sd">    information theory properties for the Taylor and Mutual Information diagram</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a><span class="sd">    from the input data set.</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a><span class="sd">    Args:</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe has models in columns and</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a><span class="sd">          model prediction in rows. It is used to calculate relevant</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a><span class="sd">          statistical information and information theory properties.</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a><span class="sd">          information. Defaults to</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_fetures=&#39;auto&#39;,</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a><span class="sd">    Returns:</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a><span class="sd">        pandas.DataFrame: This dataframe contains model names as indices and</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a><span class="sd">          statistical and information theory properties as columns.</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>    <span class="n">df_input</span> <span class="o">=</span> <span class="n">_df_check_df_raw_input</span><span class="p">(</span><span class="n">df_input</span><span class="p">)</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>    <span class="n">df_td</span> <span class="o">=</span> <span class="n">df_calculate_td_properties</span><span class="p">(</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>        <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">string_corr_method</span><span class="p">)</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>    <span class="n">df_mid</span> <span class="o">=</span> <span class="n">df_calculate_mid_properties</span><span class="p">(</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>        <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">df_td</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mid</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>    <span class="n">_warning_check_identical_model_values</span><span class="p">(</span><span class="n">df_result</span><span class="p">)</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a>    <span class="k">return</span> <span class="n">df_result</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a><span class="k">def</span> <span class="nf">_tuple_hex_to_rgb</span><span class="p">(</span><span class="n">string_hex_color</span><span class="p">):</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a><span class="sd">    _tuple_hex_to_rgb converts color value given in hex format to rgba format</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a><span class="sd">    with float_alpha_opacity opacity (transperancy) value</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a><span class="sd">    Args:</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a><span class="sd">        string_hex_color (str): This argument contains the hex value of the</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a><span class="sd">          color.</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a><span class="sd">    Returns:</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a><span class="sd">        tuple: The return value is a tuple (R, G, B) where R, G, B are</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a><span class="sd">          integer values from 0 to 255.</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>        <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">string_hex_color</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)[</span><span class="n">int_i</span><span class="p">:</span><span class="n">int_i</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>         <span class="k">for</span> <span class="n">int_i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a><span class="k">def</span> <span class="nf">_dict_calculate_model_colors</span><span class="p">(</span><span class="n">list_model_names</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>                                 <span class="n">int_number_of_datasets</span><span class="p">):</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a><span class="sd">    _dict_calculate_model_colors defines an RGBA color for each model parsed in</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a><span class="sd">    the list_model_names. The reference model is always black.</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a><span class="sd">    Args:</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a><span class="sd">        list_model_names (list): This list contains the strings of model names.</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a><span class="sd">        int_number_of_datasets (int): This argument contains the number of</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a><span class="sd">          datasets. This argument is important if we have two datasets where</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a><span class="sd">          the second one is another version of the first dataset.</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a><span class="sd">    Returns:</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="sd">        dict: The function returns a dictionary where model strings are keys,</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a><span class="sd">          and values are RGBA tuples.</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a>    <span class="n">int_number_of_models</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_model_names</span><span class="p">)</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a>    <span class="k">if</span> <span class="n">int_number_of_models</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">:</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>        <span class="n">list_color_scheme</span> <span class="o">=</span> <span class="n">_LIST_TABLEAU_10</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>        <span class="n">list_color_scheme</span> <span class="o">=</span> <span class="n">_LIST_TABLEAU_20</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>    <span class="n">int_num_discrete_colors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_color_scheme</span><span class="p">)</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>    <span class="n">dict_result</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>    <span class="k">for</span> <span class="n">int_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">int_number_of_datasets</span><span class="p">):</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>        <span class="k">for</span> <span class="n">int_j</span><span class="p">,</span> <span class="n">string_model_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_model_names</span><span class="p">):</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>            <span class="k">if</span> <span class="n">string_model_name</span> <span class="o">==</span> <span class="n">string_reference_model</span><span class="p">:</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>                <span class="n">string_hex_color</span> <span class="o">=</span> <span class="s1">&#39;#000000&#39;</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>                <span class="n">string_hex_color</span> <span class="o">=</span> <span class="n">list_color_scheme</span><span class="p">[</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a>                    <span class="n">int_j</span> <span class="o">%</span> <span class="n">int_num_discrete_colors</span><span class="p">]</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a>            <span class="k">if</span> <span class="n">string_model_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dict_result</span><span class="p">:</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>                <span class="n">dict_result</span><span class="p">[</span><span class="n">string_model_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>            <span class="n">tuple_rgb_color</span> <span class="o">=</span> <span class="n">_tuple_hex_to_rgb</span><span class="p">(</span><span class="n">string_hex_color</span><span class="p">)</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_model_name</span><span class="p">][</span><span class="n">int_i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>                <span class="nb">int</span><span class="p">(</span><span class="n">tuple_rgb_color</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">tuple_rgb_color</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>                <span class="nb">int</span><span class="p">(</span><span class="n">tuple_rgb_color</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>    <span class="k">return</span> <span class="n">dict_result</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a><span class="k">def</span> <span class="nf">_warning_check_identical_model_values</span><span class="p">(</span><span class="n">df_input</span><span class="p">):</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a><span class="sd">    _warning_check_identical_model_values checks if there are models that have</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a><span class="sd">    identical statistical or information theory properties. This check is</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a><span class="sd">    performed so that the user is warned if the diagrams contain circles that</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a><span class="sd">    fully overlap.</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a><span class="sd">    Args:</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe contains both statistical</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a><span class="sd">          and information theory properties as calculated in</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a><span class="sd">          df_calculate_all_properties. The dataframe contains columns like:</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a><span class="sd">          Model, Entropy, Standard Deviation, etc.</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a><span class="sd">    Returns:</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a><span class="sd">        None: None</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>    <span class="n">df_taylor_result</span> <span class="o">=</span> <span class="n">df_input</span><span class="p">[</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>        <span class="n">df_input</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>            <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Standard Deviation&#39;</span><span class="p">,</span> <span class="s1">&#39;Correlation&#39;</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>    <span class="n">df_mi_result</span> <span class="o">=</span> <span class="n">df_input</span><span class="p">[</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>        <span class="n">df_input</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;Scaled MI&#39;</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>    <span class="k">if</span> <span class="n">df_taylor_result</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;WARNING: The following models have the same Standard&#39;</span> <span class="o">+</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>                      <span class="s1">&#39; Deviation and Correlation: &#39;</span> <span class="o">+</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>                      <span class="nb">str</span><span class="p">(</span><span class="n">df_taylor_result</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span> <span class="o">+</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>                      <span class="s1">&#39;.</span><span class="se">\n</span><span class="s1">The resulting Taylor diagram will have overlapping&#39;</span> <span class="o">+</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>                      <span class="s1">&#39; marks (circles).&#39;</span><span class="p">,</span> <span class="ne">RuntimeWarning</span><span class="p">)</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>    <span class="k">if</span> <span class="n">df_mi_result</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;WARNING: The following models have the same Entropy&#39;</span> <span class="o">+</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a>                      <span class="s1">&#39; and Scaled Mutual Information: &#39;</span> <span class="o">+</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a>                      <span class="nb">str</span><span class="p">(</span><span class="n">df_mi_result</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span> <span class="o">+</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a>                      <span class="s1">&#39;.</span><span class="se">\n</span><span class="s1">The resulting Mutual Information diagram will have&#39;</span> <span class="o">+</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>                      <span class="s1">&#39; overlapping marks (circles).&#39;</span><span class="p">,</span> <span class="ne">RuntimeWarning</span><span class="p">)</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>    <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a><span class="k">def</span> <span class="nf">_chart_create_diagram</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>                          <span class="n">string_mid_type</span><span class="p">,</span> <span class="n">string_diagram_type</span><span class="p">,</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>                          <span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>                          <span class="n">chart_result_upper</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a><span class="sd">    _chart_create_diagram is a general function that creates both the Taylor</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="sd">    and the Mutual Information diagrams according to the passed argument.</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a><span class="sd">    Args:</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a><span class="sd">          diagrams.</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a><span class="sd">        string_mid_type (str): This string contains the type of the</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a><span class="sd">          Mutual Information diagram. If it is &#39;scaled&#39; then it will span both</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a><span class="sd">          quadrants. If it is &#39;normalized&#39;, it will span only the first</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a><span class="sd">          quadrant of the circle.</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a><span class="sd">        string_diagram_type (str): This string contains the type of the diagram</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a><span class="sd">          that has to be created.</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a><span class="sd">        bool_normalized_measures (bool, optional): This boolean parameter is</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a><span class="sd">          used to determine if the passed chart should have normalized entropy</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a><span class="sd">          and STD values or not. If it is False, then real entropy and STD</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a><span class="sd">          values are used for the radial axis. If it is True, normalized values</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a><span class="sd">          are used. Defaults to False.</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a><span class="sd">        bool_flag_as_subplot (bool, optional): This boolean parameter is used</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a><span class="sd">          to determine if the passed chart is a subplot or not. If it is False,</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a><span class="sd">          then only one diagram is created. If it is True, both Taylor and</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a><span class="sd">          Mutual Information diagrams are created and placed side-by-side.</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a><span class="sd">          Defaults to False.</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a><span class="sd">        chart_result_upper (plotly.graph_objects.Figure, optional): This chart</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a><span class="sd">          is not None only if both diagrams have to be created. It contains the</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a><span class="sd">          blank canvas (1 row, 2 columns) for both objects. Defaults to None.</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a><span class="sd">    Raises:</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a><span class="sd">        TypeError: The error is raised if bool_notmalized_measures is not one</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a><span class="sd">          of bool type.</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a><span class="sd">        ValueError: The error is raised if string_diagram_type is not one of</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a><span class="sd">          the following &#39;taylor&#39;, &#39;mid&#39;</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a><span class="sd">        ValueError: The error is raised if string_mid_type is not one of</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a><span class="sd">          the following &#39;scaled&#39;, &#39;normalized&#39;</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a><span class="sd">    Returns:</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a><span class="sd">        plotly.graph_objects.Figure: This chart contains the resulting Taylor</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a><span class="sd">          or Mutual Information diagram.</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>    <span class="n">list_valid_diagram_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="s1">&#39;mid&#39;</span><span class="p">]</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>    <span class="n">list_valid_mid_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;scaled&#39;</span><span class="p">,</span> <span class="s1">&#39;normalized&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;bool_normalized_measures must be of bool type&#39;</span><span class="p">)</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a>    <span class="k">if</span> <span class="n">string_diagram_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_diagram_types</span><span class="p">:</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_diagram_type not in &#39;</span> <span class="o">+</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>                         <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_diagram_types</span><span class="p">))</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>    <span class="k">if</span> <span class="n">string_mid_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_mid_types</span><span class="p">:</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_mid_type not in &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_mid_types</span><span class="p">))</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>    <span class="c1"># General properties</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>    <span class="n">string_tooltip_label_0</span> <span class="o">=</span> <span class="s1">&#39;Model&#39;</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>    <span class="n">int_number_of_models</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>        <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">string_tooltip_label_0</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a>    <span class="n">int_number_of_datasets</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>    <span class="n">np_tmp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>    <span class="k">if</span> <span class="n">string_diagram_type</span> <span class="o">==</span> <span class="s1">&#39;taylor&#39;</span><span class="p">:</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>        <span class="n">bool_show_legend</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>        <span class="k">if</span> <span class="n">bool_normalized_measures</span><span class="p">:</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>            <span class="n">string_radial_column</span> <span class="o">=</span> <span class="s1">&#39;Normalized Standard Deviation&#39;</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>            <span class="n">string_radial_column</span> <span class="o">=</span> <span class="s1">&#39;Standard Deviation&#39;</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a>        <span class="n">string_angular_column</span> <span class="o">=</span> <span class="s1">&#39;Angle&#39;</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a>        <span class="n">string_angular_column_label</span> <span class="o">=</span> <span class="s1">&#39;Correlation&#39;</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>        <span class="n">string_tooltip_label_1</span> <span class="o">=</span> <span class="n">string_radial_column</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a>        <span class="n">string_tooltip_label_2</span> <span class="o">=</span> <span class="n">string_angular_column_label</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>        <span class="n">string_tooltip_label_3</span> <span class="o">=</span> <span class="s1">&#39;RMS&#39;</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>        <span class="n">bool_only_half</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="p">(</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>            <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">string_angular_column</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">90</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="k">else</span> <span class="kc">False</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>        <span class="n">int_subplot_column_number</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>        <span class="n">np_angular_labels</span> <span class="o">=</span> <span class="n">np_tmp</span> <span class="k">if</span> <span class="n">bool_only_half</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a>            <span class="p">(</span><span class="o">-</span><span class="n">np_tmp</span><span class="p">[:</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np_tmp</span><span class="p">))</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a>        <span class="n">np_angular_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">np_angular_labels</span><span class="p">))</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a>        <span class="n">bool_show_legend</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a>        <span class="n">int_subplot_column_number</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>        <span class="k">if</span> <span class="n">string_mid_type</span> <span class="o">==</span> <span class="s1">&#39;scaled&#39;</span><span class="p">:</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>            <span class="n">string_angular_column</span> <span class="o">=</span> <span class="s1">&#39;Angle_SMI&#39;</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>            <span class="k">if</span> <span class="n">bool_normalized_measures</span><span class="p">:</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>                <span class="n">string_radial_column</span> <span class="o">=</span> <span class="s1">&#39;Normalized Entropy&#39;</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a>                <span class="n">string_radial_column</span> <span class="o">=</span> <span class="s1">&#39;Entropy&#39;</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a>            <span class="n">string_angular_column_label</span> <span class="o">=</span> <span class="s1">&#39;Scaled Mutual Information&#39;</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a>            <span class="n">string_tooltip_label_1</span> <span class="o">=</span> <span class="n">string_radial_column</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a>            <span class="n">string_tooltip_label_2</span> <span class="o">=</span> <span class="s1">&#39;Scaled MI&#39;</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a>            <span class="n">string_tooltip_label_3</span> <span class="o">=</span> <span class="s1">&#39;VI&#39;</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a>            <span class="c1"># TODO: Improve this below. We might have to check the second</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a>            <span class="c1"># TODO: version data set as well, since those models might go</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a>            <span class="c1"># TODO: on the other quarter of the circle</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>            <span class="n">bool_only_half</span> <span class="o">=</span> <span class="n">bool_only_half</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="p">(</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>                <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">string_angular_column</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">90</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="k">else</span> <span class="kc">False</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>            <span class="n">np_angular_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="o">-</span><span class="n">np_tmp</span><span class="p">[:</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np_tmp</span><span class="p">))</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a>            <span class="n">np_angular_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">np_angular_labels</span><span class="p">))</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>            <span class="n">np_angular_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">((</span><span class="n">np_angular_labels</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>            <span class="n">string_angular_column</span> <span class="o">=</span> <span class="s1">&#39;Angle_NMI&#39;</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>            <span class="k">if</span> <span class="n">bool_normalized_measures</span><span class="p">:</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a>                <span class="n">string_radial_column</span> <span class="o">=</span> <span class="s1">&#39;Normalized Root Entropy&#39;</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>                <span class="n">string_radial_column</span> <span class="o">=</span> <span class="s1">&#39;Root Entropy&#39;</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a>            <span class="n">string_angular_column_label</span> <span class="o">=</span> <span class="s1">&#39;Normalized Mutual Information&#39;</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a>            <span class="n">string_tooltip_label_1</span> <span class="o">=</span> <span class="n">string_radial_column</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a>            <span class="n">string_tooltip_label_2</span> <span class="o">=</span> <span class="s1">&#39;Normalized MI&#39;</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>            <span class="n">string_tooltip_label_3</span> <span class="o">=</span> <span class="s1">&#39;RVI&#39;</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>            <span class="n">bool_only_half</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>            <span class="n">np_angular_labels</span> <span class="o">=</span> <span class="n">np_tmp</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>            <span class="n">np_angular_ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">np_angular_labels</span><span class="p">))</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>    <span class="n">string_scalar_column</span> <span class="o">=</span> <span class="s1">&#39;Scalar&#39;</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a>    <span class="n">int_max_angle</span> <span class="o">=</span> <span class="mi">90</span> <span class="k">if</span> <span class="n">bool_only_half</span> <span class="k">else</span> <span class="mi">180</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>    <span class="n">float_max_r</span> <span class="o">=</span> <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">string_radial_column</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span>\
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>        <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">string_radial_column</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>    <span class="k">if</span> <span class="n">int_number_of_datasets</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">list_df_input</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>        <span class="c1"># We check if it is NOT a scenario where user inputed dataframe with</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>        <span class="c1"># one row (with scalar information). That dataframe is then modified to</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>        <span class="c1"># look like this:</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>        <span class="c1"># Model    Scalar</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>        <span class="c1"># 0    y1  0.388677</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>        <span class="c1"># 1    y2  0.271349</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>        <span class="n">float_max_r</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>            <span class="n">float_max_r</span><span class="p">,</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>            <span class="n">list_df_input</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">string_radial_column</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>            <span class="n">list_df_input</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">string_radial_column</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>    <span class="k">if</span> <span class="n">bool_flag_as_subplot</span><span class="p">:</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>        <span class="n">chart_result</span> <span class="o">=</span> <span class="n">chart_result_upper</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>        <span class="n">chart_result</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>    <span class="n">string_tooltip_suffix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>    <span class="n">dict_polar_chart</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>        <span class="n">sector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">int_max_angle</span><span class="p">],</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>        <span class="n">bgcolor</span><span class="o">=</span><span class="n">_STRING_BACKGROUND_COLOR</span><span class="p">,</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>        <span class="n">radialaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>            <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">float_max_r</span><span class="p">],</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>            <span class="n">griddash</span><span class="o">=</span><span class="n">_STRING_GRID_STYLE</span><span class="p">,</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>            <span class="n">gridcolor</span><span class="o">=</span><span class="n">_STRING_GRID_COLOR</span><span class="p">,</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>            <span class="n">ticks</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">,</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>            <span class="n">tickwidth</span><span class="o">=</span><span class="n">_INT_TICK_WIDTH</span><span class="p">,</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>            <span class="n">tickcolor</span><span class="o">=</span><span class="n">_STRING_TICK_COLOR</span><span class="p">,</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a>            <span class="n">tickfont</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">),</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a>            <span class="n">showline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>            <span class="n">linecolor</span><span class="o">=</span><span class="n">_STRING_TICK_COLOR</span><span class="p">,</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>            <span class="n">layer</span><span class="o">=</span><span class="s1">&#39;below traces&#39;</span><span class="p">,</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>            <span class="n">title</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>                <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&lt;br&gt;&#39;</span> <span class="o">+</span> <span class="n">string_radial_column</span><span class="p">,</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>                <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>                    <span class="n">color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">,</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>                    <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">))),</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>        <span class="n">angularaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>            <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;counterclockwise&quot;</span><span class="p">,</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>            <span class="n">ticks</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">,</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>            <span class="n">tickwidth</span><span class="o">=</span><span class="n">_INT_TICK_WIDTH</span><span class="p">,</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>            <span class="n">tickvals</span><span class="o">=</span><span class="n">np_angular_ticks</span><span class="p">,</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>            <span class="n">ticktext</span><span class="o">=</span><span class="n">np_angular_labels</span><span class="p">,</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>            <span class="n">tickcolor</span><span class="o">=</span><span class="n">_STRING_TICK_COLOR</span><span class="p">,</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>            <span class="n">tickfont</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">),</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>            <span class="n">griddash</span><span class="o">=</span><span class="n">_STRING_GRID_STYLE</span><span class="p">,</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>            <span class="n">gridcolor</span><span class="o">=</span><span class="n">_STRING_GRID_COLOR</span><span class="p">,</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a>            <span class="n">showline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a>            <span class="n">linecolor</span><span class="o">=</span><span class="n">_STRING_TICK_COLOR</span><span class="p">,</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>            <span class="n">layer</span><span class="o">=</span><span class="s1">&#39;below traces&#39;</span><span class="p">))</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>    <span class="n">dict_legend</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>        <span class="n">title</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">string_tooltip_label_0</span><span class="p">),</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>        <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>            <span class="n">color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">),</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a>        <span class="n">bgcolor</span><span class="o">=</span><span class="n">_STRING_BACKGROUND_COLOR</span><span class="p">,</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>        <span class="n">bordercolor</span><span class="o">=</span><span class="n">_STRING_GRID_COLOR</span><span class="p">,</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a>        <span class="n">borderwidth</span><span class="o">=</span><span class="n">_FLOAT_LEGEND_BORDER_WIDTH</span><span class="p">,</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a>        <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>        <span class="n">x</span><span class="o">=</span><span class="n">_INT_LEGEND_X</span><span class="p">,</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>        <span class="n">y</span><span class="o">=</span><span class="n">_INT_LEGEND_Y</span><span class="p">)</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>    <span class="n">dict_model_colors</span> <span class="o">=</span> <span class="n">_dict_calculate_model_colors</span><span class="p">(</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>        <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">string_tooltip_label_0</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>        <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>        <span class="n">int_number_of_datasets</span><span class="p">)</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>    <span class="c1"># Calculate marker sizes if we have a scalar dataset</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>    <span class="c1"># And also check if we have a second version dataset so that we have a</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>    <span class="c1"># nicer tooltip information</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>    <span class="c1"># int_dataset_option can be one of [0, 1, 2] where:</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>    <span class="c1"># 0 = we have one dataset, 1 = two datasets with the second one holding</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>    <span class="c1"># scalar values, 2 = two datasets with the second one being the second</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>    <span class="c1"># version dataset</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a>    <span class="k">if</span> <span class="n">int_number_of_datasets</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">list_df_input</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a>        <span class="n">np_first_row</span> <span class="o">=</span> <span class="n">list_df_input</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">string_scalar_column</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>        <span class="n">np_scaled_values</span> <span class="o">=</span> <span class="p">(</span><span class="n">np_first_row</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">np_first_row</span><span class="p">))</span> <span class="o">/</span>\
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a>            <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np_first_row</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">np_first_row</span><span class="p">))</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>        <span class="n">dict_model_marker_sizes</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a>            <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">string_tooltip_label_0</span><span class="p">],</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>            <span class="n">np_scaled_values</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>        <span class="n">int_dataset_option</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>    <span class="k">elif</span> <span class="n">int_number_of_datasets</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>        <span class="n">int_dataset_option</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>        <span class="n">int_dataset_option</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>        <span class="n">list_tooltip_columns</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>            <span class="n">string_tooltip_label_0</span><span class="p">,</span> <span class="n">string_tooltip_label_1</span><span class="p">,</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>            <span class="n">string_tooltip_label_2</span><span class="p">,</span> <span class="n">string_tooltip_label_3</span><span class="p">]</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>        <span class="k">if</span> <span class="n">int_dataset_option</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>            <span class="n">string_tooltip_suffix</span> <span class="o">=</span> <span class="s1">&#39;&lt;br&gt;&#39;</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>        <span class="k">elif</span> <span class="n">int_dataset_option</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>            <span class="n">df_input</span> <span class="o">=</span> <span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>                <span class="n">list_df_input</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">on</span><span class="o">=</span><span class="n">string_tooltip_label_0</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>            <span class="n">list_tooltip_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">string_scalar_column</span><span class="p">)</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>            <span class="n">string_tooltip_suffix</span> <span class="o">=</span> <span class="s1">&#39;&lt;br&gt;&#39;</span> <span class="o">+</span> <span class="n">string_scalar_column</span> <span class="o">+</span>\
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>                <span class="s1">&#39;: %</span><span class="si">{customdata[4]:.3f}</span><span class="s1">&lt;br&gt;&#39;</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>            <span class="n">string_tooltip_suffix</span> <span class="o">=</span> <span class="s1">&#39; - &lt;b&gt;Version &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">int_i</span><span class="p">)</span> <span class="o">+</span>\
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>                <span class="s1">&#39;&lt;/b&gt;&lt;br&gt;&#39;</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a>        <span class="n">np_tooltip_data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a>            <span class="n">df_input</span><span class="p">[</span><span class="n">list_tooltip_columns</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">())</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a>        <span class="n">string_tooltip_hovertemplate</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>            <span class="n">string_tooltip_label_0</span> <span class="o">+</span> <span class="s1">&#39;: %</span><span class="si">{customdata[0]}</span><span class="s1">&#39;</span> <span class="o">+</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>            <span class="n">string_tooltip_suffix</span> <span class="o">+</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>            <span class="n">string_tooltip_label_1</span> <span class="o">+</span> <span class="s1">&#39;: %</span><span class="si">{customdata[1]:.3f}</span><span class="s1">&lt;br&gt;&#39;</span> <span class="o">+</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a>            <span class="n">string_tooltip_label_2</span> <span class="o">+</span> <span class="s1">&#39;: %</span><span class="si">{customdata[2]:.3f}</span><span class="s1">&lt;br&gt;&#39;</span> <span class="o">+</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a>            <span class="s1">&#39;Reference distance (&#39;</span> <span class="o">+</span> <span class="n">string_tooltip_label_3</span> <span class="o">+</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>            <span class="s1">&#39;): %</span><span class="si">{customdata[3]:.3f}</span><span class="s1">&lt;br&gt;&#39;</span> <span class="o">+</span> <span class="s1">&#39;&lt;extra&gt;&lt;/extra&gt;&#39;</span><span class="p">)</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>        <span class="k">for</span> <span class="n">tmp_r</span><span class="p">,</span> <span class="n">tmp_angle</span><span class="p">,</span> <span class="n">tmp_model_int</span><span class="p">,</span> <span class="n">tmp_model</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_radial_column</span><span class="p">],</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_angular_column</span><span class="p">],</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>                <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df_input</span><span class="p">[</span><span class="n">string_tooltip_label_0</span><span class="p">])[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_tooltip_label_0</span><span class="p">]):</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>            <span class="n">string_marker_color</span> <span class="o">=</span> <span class="n">dict_model_colors</span><span class="p">[</span><span class="n">tmp_model</span><span class="p">][</span><span class="n">int_i</span><span class="p">]</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>            <span class="c1"># Do not show the legend for the scalar values</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>            <span class="n">bool_show_legend</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">bool_show_legend</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>            <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">int_dataset_option</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>                <span class="c1"># The marker type for the scalar second dataset</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>                <span class="c1"># We add aditional marker with only border</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>                <span class="n">string_marker_color</span> <span class="o">=</span> <span class="n">dict_model_colors</span><span class="p">[</span><span class="n">tmp_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>                <span class="n">dict_marker</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>                    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>                        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgba&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">string_marker_color</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)),</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a>                        <span class="n">width</span><span class="o">=</span><span class="n">_INT_MARKER_LINE_WIDTH</span><span class="p">),</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>                    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgba&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">string_marker_color</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)),</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a>                    <span class="n">size</span><span class="o">=</span><span class="n">_INT_MARKER_SIZE</span> <span class="o">*</span> <span class="n">dict_model_marker_sizes</span><span class="p">[</span><span class="n">tmp_model</span><span class="p">])</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a>            <span class="k">elif</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">int_dataset_option</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a>                <span class="n">dict_marker</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a>                    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgba&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a>                        <span class="n">string_marker_color</span> <span class="o">+</span> <span class="p">(</span><span class="n">_FLOAT_MARKER_OPACITY</span><span class="p">,)),</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a>                    <span class="n">size</span><span class="o">=</span><span class="n">_INT_MARKER_SIZE</span> <span class="o">+</span> <span class="n">_INT_MARKER_LINE_WIDTH</span><span class="p">)</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>                <span class="n">dict_marker</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>                    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>                        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgba&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">string_marker_color</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)),</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>                        <span class="n">width</span><span class="o">=</span><span class="n">_INT_MARKER_LINE_WIDTH</span><span class="p">),</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>                    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgba&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>                        <span class="n">string_marker_color</span> <span class="o">+</span> <span class="p">(</span><span class="n">_FLOAT_MARKER_OPACITY</span><span class="p">,)),</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a>                    <span class="n">size</span><span class="o">=</span><span class="n">_INT_MARKER_SIZE</span><span class="p">)</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a>            <span class="k">if</span> <span class="n">bool_flag_as_subplot</span><span class="p">:</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a>                <span class="n">chart_result</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a>                    <span class="n">go</span><span class="o">.</span><span class="n">Scatterpolar</span><span class="p">(</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a>                        <span class="n">name</span><span class="o">=</span><span class="n">tmp_model</span><span class="p">,</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a>                        <span class="n">r</span><span class="o">=</span><span class="p">[</span><span class="n">tmp_r</span><span class="p">],</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a>                        <span class="n">theta</span><span class="o">=</span><span class="p">[</span><span class="n">tmp_angle</span><span class="p">],</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>                        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span><span class="p">,</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a>                        <span class="n">legendgroup</span><span class="o">=</span><span class="n">tmp_model</span><span class="p">,</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a>                        <span class="n">showlegend</span><span class="o">=</span><span class="n">bool_show_legend</span><span class="p">,</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>                        <span class="c1"># This below has to be done like this, since we add</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a>                        <span class="c1"># traces one by one</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>                        <span class="n">customdata</span><span class="o">=</span><span class="p">[</span><span class="n">np_tooltip_data</span><span class="p">[</span><span class="n">tmp_model_int</span><span class="p">]]</span> <span class="o">*</span>\
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>                        <span class="n">int_number_of_models</span><span class="p">,</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>                        <span class="n">hovertemplate</span><span class="o">=</span><span class="n">string_tooltip_hovertemplate</span><span class="p">,</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>                        <span class="n">hoverlabel</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>                            <span class="n">bgcolor</span><span class="o">=</span><span class="n">_STRING_BACKGROUND_COLOR</span><span class="p">,</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>                            <span class="n">bordercolor</span><span class="o">=</span><span class="s1">&#39;rgba&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>                                <span class="n">string_marker_color</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)),</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>                            <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>                                <span class="n">color</span><span class="o">=</span><span class="n">_STRING_TICK_COLOR</span><span class="p">)),</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>                        <span class="n">marker</span><span class="o">=</span><span class="n">dict_marker</span><span class="p">),</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>                    <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>                    <span class="n">col</span><span class="o">=</span><span class="n">int_subplot_column_number</span><span class="p">)</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>                <span class="n">chart_result</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>                    <span class="n">go</span><span class="o">.</span><span class="n">Scatterpolar</span><span class="p">(</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>                        <span class="n">name</span><span class="o">=</span><span class="n">tmp_model</span><span class="p">,</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>                        <span class="n">r</span><span class="o">=</span><span class="p">[</span><span class="n">tmp_r</span><span class="p">],</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>                        <span class="n">theta</span><span class="o">=</span><span class="p">[</span><span class="n">tmp_angle</span><span class="p">],</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>                        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span><span class="p">,</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a>                        <span class="c1"># This below has to be done like this, since we add</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>                        <span class="c1"># traces one by one</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>                        <span class="n">customdata</span><span class="o">=</span><span class="p">[</span><span class="n">np_tooltip_data</span><span class="p">[</span><span class="n">tmp_model_int</span><span class="p">]]</span> <span class="o">*</span>\
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a>                        <span class="n">int_number_of_models</span><span class="p">,</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a>                        <span class="n">hovertemplate</span><span class="o">=</span><span class="n">string_tooltip_hovertemplate</span><span class="p">,</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a>                        <span class="n">hoverlabel</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a>                            <span class="n">bgcolor</span><span class="o">=</span><span class="n">_STRING_BACKGROUND_COLOR</span><span class="p">,</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a>                            <span class="n">bordercolor</span><span class="o">=</span><span class="s1">&#39;rgba&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>                                <span class="n">string_marker_color</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)),</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>                            <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a>                                <span class="n">color</span><span class="o">=</span><span class="n">_STRING_TICK_COLOR</span><span class="p">)),</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a>                        <span class="n">marker</span><span class="o">=</span><span class="n">dict_marker</span><span class="p">))</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>    <span class="k">if</span> <span class="n">bool_flag_as_subplot</span><span class="p">:</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>        <span class="k">if</span> <span class="n">string_diagram_type</span> <span class="o">==</span> <span class="s1">&#39;taylor&#39;</span><span class="p">:</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>            <span class="n">chart_result</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>                <span class="n">polar</span><span class="o">=</span><span class="n">dict_polar_chart</span><span class="p">,</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>                <span class="n">legend</span><span class="o">=</span><span class="n">dict_legend</span><span class="p">,</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>                <span class="n">width</span><span class="o">=</span><span class="n">_INT_CHART_WIDTH</span><span class="p">,</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>                <span class="n">height</span><span class="o">=</span><span class="n">_INT_CHART_HEIGHT</span> <span class="o">+</span> <span class="mi">120</span><span class="o">*</span><span class="nb">round</span><span class="p">(</span><span class="n">int_number_of_models</span><span class="o">/</span><span class="mi">10</span><span class="p">),</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>                <span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>            <span class="n">chart_result</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>                <span class="n">polar2</span><span class="o">=</span><span class="n">dict_polar_chart</span><span class="p">,</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>                <span class="n">legend</span><span class="o">=</span><span class="n">dict_legend</span><span class="p">,</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>                <span class="n">width</span><span class="o">=</span><span class="n">_INT_CHART_WIDTH</span><span class="p">,</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>                <span class="n">height</span><span class="o">=</span><span class="n">_INT_CHART_HEIGHT</span> <span class="o">+</span> <span class="mi">120</span><span class="o">*</span><span class="nb">round</span><span class="p">(</span><span class="n">int_number_of_models</span><span class="o">/</span><span class="mi">10</span><span class="p">),</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>                <span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>        <span class="n">chart_result</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>            <span class="n">polar</span><span class="o">=</span><span class="n">dict_polar_chart</span><span class="p">,</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>            <span class="n">legend</span><span class="o">=</span><span class="n">dict_legend</span><span class="p">,</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>            <span class="n">width</span><span class="o">=</span><span class="n">_INT_CHART_WIDTH</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>            <span class="n">height</span><span class="o">=</span><span class="n">_INT_CHART_HEIGHT</span> <span class="o">+</span> <span class="mi">80</span><span class="o">*</span><span class="nb">round</span><span class="p">(</span><span class="n">int_number_of_models</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>            <span class="n">title</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a>                <span class="n">text</span><span class="o">=</span><span class="n">string_angular_column_label</span><span class="p">,</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>                <span class="n">x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a>                <span class="n">xref</span><span class="o">=</span><span class="s1">&#39;paper&#39;</span><span class="p">,</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a>                <span class="n">yref</span><span class="o">=</span><span class="s1">&#39;paper&#39;</span><span class="p">,</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a>                <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a>                <span class="n">yanchor</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a>                <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>                    <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>                    <span class="n">color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">)))</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a>    <span class="k">return</span> <span class="n">chart_result</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a><span class="k">def</span> <span class="nf">chart_create_taylor_diagram</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>                                <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>                                <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a><span class="sd">    chart_create_taylor_diagram creates the Taylor diagram according to the</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a><span class="sd">    list_df_input argument where models are placed in columns and rows contain</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a><span class="sd">    model predictions.</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a><span class="sd">    Args:</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a><span class="sd">          diagrams.</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a><span class="sd">        bool_normalized_measures (bool, optional): This boolean parameter is</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a><span class="sd">          used to determine if the passed chart should have normalized entropy</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a><span class="sd">          and STD values or not. If it is False, then real entropy and STD</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a><span class="sd">          values are used for the radial axis. If it is True, normalized values</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a><span class="sd">          are used. Defaults to False.</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="sd">    Raises:</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a><span class="sd">        ValueError: The error is raised if the string_corr_method is not one of</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a><span class="sd">          the following &#39;pearson&#39;, &#39;kendall&#39;, &#39;spearman&#39;.</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a><span class="sd">        TypeError: The error is raised if bool_notmalized_measures is not one</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="sd">          of bool type.</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a><span class="sd">    Returns:</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a><span class="sd">       plotly.graph_objects.Figure: This chart contains the resulting Taylor</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a><span class="sd">         diagram.</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>    <span class="n">list_df_input</span> <span class="o">=</span> <span class="n">_list_check_list_df_input</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>    <span class="n">list_df_td</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>    <span class="n">list_valid_corr_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span> <span class="s1">&#39;kendall&#39;</span><span class="p">,</span> <span class="s1">&#39;spearman&#39;</span><span class="p">]</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>    <span class="k">if</span> <span class="n">string_corr_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_corr_methods</span><span class="p">:</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_corr_method is not one of the following:&#39;</span> <span class="o">+</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>                         <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_corr_methods</span><span class="p">))</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;bool_normalized_measures must be of bool type&#39;</span><span class="p">)</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a>        <span class="c1"># We have to check if the secons pandas.DataFrame has one or multiple</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a>        <span class="c1"># rows. If it has one, we encode that property using the size of the</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a>        <span class="c1"># mark of the resulting diagram. If it has multiple rows, we need to</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a>        <span class="c1"># calculate all information for that dataframe and we visualize both</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>        <span class="c1"># using arrows in the resulting diagram</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a>        <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">df_input</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>            <span class="c1"># We don&#39;t calculate properties when we have one row</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>            <span class="c1"># We consider that a scalar value which we encode using mark size</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>            <span class="n">list_df_td</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>                <span class="n">df_input</span><span class="o">.</span><span class="n">melt</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a>                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">}))</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a>            <span class="k">continue</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>        <span class="n">df_td</span> <span class="o">=</span> <span class="n">df_calculate_td_properties</span><span class="p">(</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>            <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">string_corr_method</span><span class="p">)</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a>        <span class="n">list_df_td</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_td</span><span class="p">)</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a>        <span class="n">list_df_td</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a>        <span class="n">string_mid_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>        <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;taylor&#39;</span><span class="p">,</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>    <span class="k">return</span> <span class="n">chart_result</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a><span class="k">def</span> <span class="nf">chart_create_mi_diagram</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a>                            <span class="n">string_mid_type</span><span class="o">=</span><span class="s1">&#39;scaled&#39;</span><span class="p">,</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a>                            <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a>                                <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a>                                <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>                                <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>                                <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a>                                <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">),</span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>                            <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a><span class="sd">    chart_create_mi_diagram creates the Mutual Information diagram according</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a><span class="sd">    to the list_df_input argument where models are placed in columns and rows</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a><span class="sd">    contain model predictions.</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a><span class="sd">    Args:</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a><span class="sd">          diagrams.</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a><span class="sd">          the ground truth.</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a><span class="sd">        string_mid_type (str, optional): This string contains the type of the</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a><span class="sd">          Mutual Information diagram. If it is &#39;scaled&#39; then it will span both</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a><span class="sd">          quadrants. If it is &#39;normalized&#39;, it will span only the first</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a><span class="sd">          quadrant of the circle. Defaults to &#39;scaled&#39;.</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a><span class="sd">          information. Defaults to</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_fetures=&#39;auto&#39;,</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a><span class="sd">        bool_normalized_measures (bool, optional): This boolean parameter is</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a><span class="sd">          used to determine if the passed chart should have normalized entropy</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a><span class="sd">          and STD values or not. If it is False, then real entropy and STD</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a><span class="sd">          values are used for the radial axis. If it is True, normalized values</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a><span class="sd">          are used. Defaults to False.</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a><span class="sd">    Raises:</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a><span class="sd">        TypeError: The error is raised if bool_notmalized_measures is not one</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a><span class="sd">          of bool type.</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a><span class="sd">        ValueError: The error is raised if string_mid_type is not one of</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a><span class="sd">          the following &#39;scaled&#39;, &#39;normalized&#39;.</span>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a><span class="sd">    Returns:</span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a><span class="sd">        plotly.graph_objects.Figure: This chart contains the resulting Mutual</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a><span class="sd">          Information diagram.</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a>    <span class="n">list_valid_mid_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;normalized&#39;</span><span class="p">,</span> <span class="s1">&#39;scaled&#39;</span><span class="p">]</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;bool_normalized_measures must be of bool type&#39;</span><span class="p">)</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a>    <span class="k">if</span> <span class="n">string_mid_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_mid_types</span><span class="p">:</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_mid_type not in &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_mid_types</span><span class="p">))</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a>    <span class="n">list_df_input</span> <span class="o">=</span> <span class="n">_list_check_list_df_input</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a>    <span class="n">list_df_mid</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a>        <span class="c1"># We have to check if the secons pandas.DataFrame has one or multiple</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>        <span class="c1"># rows. If it has one, we encode that property using the size of the</span>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>        <span class="c1"># mark of the resulting diagram. If it has multiple rows, we need to</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>        <span class="c1"># calculate all information for that dataframe and we visualize both</span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a>        <span class="c1"># using arrows in the resulting diagram</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>        <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">df_input</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>            <span class="c1"># We don&#39;t calculate properties when we have one row</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a>            <span class="c1"># We consider that a scalar value which we encode using mark size</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>            <span class="n">list_df_mid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a>                <span class="n">df_input</span><span class="o">.</span><span class="n">melt</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">}))</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>            <span class="k">continue</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>        <span class="n">df_mid</span> <span class="o">=</span> <span class="n">df_calculate_mid_properties</span><span class="p">(</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>            <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>        <span class="n">list_df_mid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_mid</span><span class="p">)</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a>        <span class="n">list_df_mid</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a>        <span class="n">string_mid_type</span><span class="o">=</span><span class="n">string_mid_type</span><span class="p">,</span> <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>        <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;mid&#39;</span><span class="p">,</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a>    <span class="k">return</span> <span class="n">chart_result</span>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a><span class="k">def</span> <span class="nf">_df_check_df_raw_input</span><span class="p">(</span><span class="n">df_input</span><span class="p">):</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a><span class="sd">    _df_check_df_raw_input performs a sanity checks on the df_input argument.</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a><span class="sd">    Args:</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a><span class="sd">        df_input (pandas.DataFrame): This DataFrame have models in columns and</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a><span class="sd">          model prediction in rows. The DataFrames is used to calculate</span>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a><span class="sd">    Raises:</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a><span class="sd">        TypeError: This error is raised if the argument is not a</span>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a><span class="sd">          pandas.DataFrame object.</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a><span class="sd">    Returns:</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a><span class="sd">        pandas.DataFrame: This function returns a validated DataFrame.</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;df_input must be a pandas.DataFrame&#39;</span><span class="p">)</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a>    <span class="k">return</span> <span class="n">df_input</span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a><span class="k">def</span> <span class="nf">_list_check_list_df_input</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a><span class="sd">    _list_check_list_df_input performs a sanity checks on the list_df_input</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a><span class="sd">    argument.</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a><span class="sd">    Args:</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a><span class="sd">          diagrams.</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a><span class="sd">    Raises:</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a><span class="sd">        TypeError: This error is raised if the argument is neither a list nor</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a><span class="sd">          a pandas.DataFrame object.</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a><span class="sd">        TypeError: This error is raised if the argument contains elements that</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a><span class="sd">          are not a pandas.DataFrame object.</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a><span class="sd">        ValueError: This error is raised if the argument contains more than 2</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a><span class="sd">          elements.</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a><span class="sd">        AttributeError: This error is raised if the pandas.DataFrame elements</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a><span class="sd">          do not contain the same set of columns. This happens if the column</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a><span class="sd">          names are different between two pandas.DataFrame elements.</span>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a><span class="sd">    Returns:</span>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a><span class="sd">        list: This function returns a validated list. If the parsed argument</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a><span class="sd">          was a pandas.DataFrame object, it is now the only element of the</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a><span class="sd">          resulting list.</span>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a>    <span class="n">list_valid_list_df_input_types</span> <span class="o">=</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a>    <span class="n">list_valid_list_df_input_lenghts</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">list_valid_list_df_input_types</span><span class="p">):</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a>            <span class="n">list_df_input</span> <span class="o">=</span> <span class="p">[</span><span class="n">list_df_input</span><span class="p">]</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;list_df_input is not a list nor a pandas.DataFrame&#39;</span><span class="p">)</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>               <span class="k">for</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="n">list_df_input</span><span class="p">):</span>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;list_df_input can contain only pandas.DataFrames&#39;</span> <span class="o">+</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>                        <span class="s1">&#39; elements&#39;</span><span class="p">)</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_list_df_input_lenghts</span><span class="p">:</span>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;list_df_input can contain only one or two&#39;</span> <span class="o">+</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a>                         <span class="s1">&#39; pandas.DataFrames&#39;</span><span class="p">)</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a>        <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span> <span class="o">!=</span> <span class="nb">set</span><span class="p">(</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>                <span class="n">list_df_input</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()):</span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s1">&#39;list_df_input dataframes need to have the &#39;</span> <span class="o">+</span>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a>                                 <span class="s1">&#39;same set of columns&#39;</span><span class="p">)</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a>    <span class="k">return</span> <span class="n">list_df_input</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a><span class="k">def</span> <span class="nf">chart_create_all_diagrams</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a>                              <span class="n">string_mid_type</span><span class="o">=</span><span class="s1">&#39;scaled&#39;</span><span class="p">,</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>                              <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a>                              <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>                                  <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>                                  <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a>                                  <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a>                                  <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a>                                  <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">),</span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a>                              <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a><span class="sd">    chart_create_all_diagrams creates both the Taylor and the Mutual</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a><span class="sd">    Information diagrams (side-by-side) according to the list_df_input argument</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a><span class="sd">    where models are placed in columns and rows contain model predictions.</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a><span class="sd">    Args:</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a><span class="sd">          diagrams.</span>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a><span class="sd">          model present in one or both elements of the list_df_input argument</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a><span class="sd">          (as a column) which can be considered as a reference point in the</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a><span class="sd">          final diagram. This is often the ground truth.</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a><span class="sd">        string_mid_type (str, optional): This string contains the type of the</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a><span class="sd">          Mutual Information diagram. If it is &#39;scaled&#39; then it will span both</span>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a><span class="sd">          quadrants. If it is &#39;normalized&#39;, it will span only the first</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a><span class="sd">          quadrant of the circle. Defaults to &#39;scaled&#39;.</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a><span class="sd">          information. Defaults to</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_fetures=&#39;auto&#39;,</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a><span class="sd">        bool_normalized_measures (bool, optional): This boolean parameter is</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a><span class="sd">          used to determine if the passed chart should have normalized entropy</span>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a><span class="sd">          and STD values or not. If it is False, then real entropy and STD</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a><span class="sd">          values are used for the radial axis. If it is True, normalized values</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a><span class="sd">          are used. Defaults to False.</span>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a><span class="sd">    Raises:</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a><span class="sd">        TypeError: The error is raised if bool_notmalized_measures is not one</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a><span class="sd">          of bool type.</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a><span class="sd">        ValueError: The error is raised if string_mid_type is not one of</span>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a><span class="sd">          the following &#39;scaled&#39;, &#39;normalized&#39;.</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a><span class="sd">    Returns:</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a><span class="sd">        plotly.graph_objects.Figure: This chart contains the both the Taylor</span>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a><span class="sd">          and the Mutual Information diagrams side-by-side.</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a>    <span class="n">list_valid_mid_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;normalized&#39;</span><span class="p">,</span> <span class="s1">&#39;scaled&#39;</span><span class="p">]</span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;bool_normalized_measures must be of bool type&#39;</span><span class="p">)</span>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a>    <span class="k">if</span> <span class="n">string_mid_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_mid_types</span><span class="p">:</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_mid_type not in &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_mid_types</span><span class="p">))</span>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a>    <span class="n">list_df_input</span> <span class="o">=</span> <span class="n">_list_check_list_df_input</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a>    <span class="n">string_combined_chart_title</span> <span class="o">=</span> <span class="s2">&quot;Taylor Diagram and Mutual Information Diagram&quot;</span> <span class="c1"># noqa</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a>    <span class="n">string_angular_title_td</span> <span class="o">=</span> <span class="s1">&#39;Correlation&#39;</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a>    <span class="k">if</span> <span class="n">string_mid_type</span> <span class="o">==</span> <span class="s1">&#39;scaled&#39;</span><span class="p">:</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>        <span class="n">string_angular_title_mid</span> <span class="o">=</span> <span class="s1">&#39;Scaled Mutual Information&#39;</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a>        <span class="n">string_angular_title_mid</span> <span class="o">=</span> <span class="s1">&#39;Normalized Mutual Information&#39;</span>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a>    <span class="n">list_df_all</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a>        <span class="c1"># We have to check if the secons pandas.DataFrame has one or multiple</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a>        <span class="c1"># rows. If it has one, we encode that property using the concentric</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a>        <span class="c1"># circle around mark of the resulting diagram. If it has multiple rows,</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a>        <span class="c1"># we need to calculate all information for that dataframe and we</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a>        <span class="c1"># visualize both using circles with and without the border</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a>        <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">df_input</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a>            <span class="c1"># We don&#39;t calculate properties when we have one row</span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a>            <span class="c1"># We consider that a scalar value which we encode using mark size</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a>            <span class="n">list_df_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_input</span><span class="o">.</span><span class="n">melt</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a>                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">}))</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a>            <span class="k">continue</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a>        <span class="n">df_all</span> <span class="o">=</span> <span class="n">df_calculate_all_properties</span><span class="p">(</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a>            <span class="n">df_input</span><span class="o">=</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a>            <span class="n">string_corr_method</span><span class="o">=</span><span class="n">string_corr_method</span><span class="p">,</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a>            <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a>        <span class="n">list_df_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_all</span><span class="p">)</span>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">make_subplots</span><span class="p">(</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a>        <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">specs</span><span class="o">=</span><span class="p">[[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;polar&#39;</span><span class="p">}]</span><span class="o">*</span><span class="mi">2</span><span class="p">],</span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a>        <span class="n">subplot_titles</span><span class="o">=</span><span class="p">(</span><span class="n">string_angular_title_td</span><span class="p">,</span>  <span class="n">string_angular_title_mid</span><span class="p">))</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>        <span class="n">list_df_all</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>        <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">chart_result_upper</span><span class="o">=</span><span class="n">chart_result</span><span class="p">,</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>        <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="n">string_mid_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>        <span class="n">list_df_all</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>        <span class="n">string_mid_type</span><span class="o">=</span><span class="n">string_mid_type</span><span class="p">,</span> <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a>        <span class="n">chart_result_upper</span><span class="o">=</span><span class="n">chart_result</span><span class="p">,</span> <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;mid&#39;</span><span class="p">,</span>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a>    <span class="n">chart_result</span><span class="o">.</span><span class="n">update_annotations</span><span class="p">(</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a>        <span class="n">yshift</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">font_color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">)</span>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>    <span class="n">chart_result</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a>        <span class="n">title</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a>            <span class="n">text</span><span class="o">=</span><span class="n">string_combined_chart_title</span><span class="p">,</span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a>            <span class="n">x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a>            <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a>            <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a>            <span class="n">yanchor</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a>            <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a>                <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a>                <span class="n">color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">)))</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a>    <span class="k">return</span> <span class="n">chart_result</span>
</span></pre></div>


            </section>
                <section id="df_calculate_td_properties">
                            <input id="df_calculate_td_properties-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">df_calculate_td_properties</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">df_input</span>, </span><span class="param"><span class="n">string_reference_model</span>, </span><span class="param"><span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="df_calculate_td_properties-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#df_calculate_td_properties"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="df_calculate_td_properties-53"><a href="#df_calculate_td_properties-53"><span class="linenos"> 53</span></a><span class="k">def</span> <span class="nf">df_calculate_td_properties</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="df_calculate_td_properties-54"><a href="#df_calculate_td_properties-54"><span class="linenos"> 54</span></a>                               <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">):</span>
</span><span id="df_calculate_td_properties-55"><a href="#df_calculate_td_properties-55"><span class="linenos"> 55</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="df_calculate_td_properties-56"><a href="#df_calculate_td_properties-56"><span class="linenos"> 56</span></a><span class="sd">    df_calculate_td_properties caclulates all necessary statistical information</span>
</span><span id="df_calculate_td_properties-57"><a href="#df_calculate_td_properties-57"><span class="linenos"> 57</span></a><span class="sd">    for the Taylor diagram from the input data set.</span>
</span><span id="df_calculate_td_properties-58"><a href="#df_calculate_td_properties-58"><span class="linenos"> 58</span></a>
</span><span id="df_calculate_td_properties-59"><a href="#df_calculate_td_properties-59"><span class="linenos"> 59</span></a><span class="sd">    Args:</span>
</span><span id="df_calculate_td_properties-60"><a href="#df_calculate_td_properties-60"><span class="linenos"> 60</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe has models in columns and</span>
</span><span id="df_calculate_td_properties-61"><a href="#df_calculate_td_properties-61"><span class="linenos"> 61</span></a><span class="sd">          model prediction in rows. It is used to calculate relevant</span>
</span><span id="df_calculate_td_properties-62"><a href="#df_calculate_td_properties-62"><span class="linenos"> 62</span></a><span class="sd">          statistical information.</span>
</span><span id="df_calculate_td_properties-63"><a href="#df_calculate_td_properties-63"><span class="linenos"> 63</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="df_calculate_td_properties-64"><a href="#df_calculate_td_properties-64"><span class="linenos"> 64</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="df_calculate_td_properties-65"><a href="#df_calculate_td_properties-65"><span class="linenos"> 65</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="df_calculate_td_properties-66"><a href="#df_calculate_td_properties-66"><span class="linenos"> 66</span></a><span class="sd">          the ground truth.</span>
</span><span id="df_calculate_td_properties-67"><a href="#df_calculate_td_properties-67"><span class="linenos"> 67</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="df_calculate_td_properties-68"><a href="#df_calculate_td_properties-68"><span class="linenos"> 68</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="df_calculate_td_properties-69"><a href="#df_calculate_td_properties-69"><span class="linenos"> 69</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="df_calculate_td_properties-70"><a href="#df_calculate_td_properties-70"><span class="linenos"> 70</span></a>
</span><span id="df_calculate_td_properties-71"><a href="#df_calculate_td_properties-71"><span class="linenos"> 71</span></a><span class="sd">    Raises:</span>
</span><span id="df_calculate_td_properties-72"><a href="#df_calculate_td_properties-72"><span class="linenos"> 72</span></a><span class="sd">        ValueError: The error is raised if the string_corr_method is not one of</span>
</span><span id="df_calculate_td_properties-73"><a href="#df_calculate_td_properties-73"><span class="linenos"> 73</span></a><span class="sd">          the following &#39;pearson&#39;, &#39;kendall&#39;, &#39;spearman&#39;.</span>
</span><span id="df_calculate_td_properties-74"><a href="#df_calculate_td_properties-74"><span class="linenos"> 74</span></a>
</span><span id="df_calculate_td_properties-75"><a href="#df_calculate_td_properties-75"><span class="linenos"> 75</span></a><span class="sd">    Returns:</span>
</span><span id="df_calculate_td_properties-76"><a href="#df_calculate_td_properties-76"><span class="linenos"> 76</span></a><span class="sd">        pandas.DataFrame: This dataframe contains model names as indices and</span>
</span><span id="df_calculate_td_properties-77"><a href="#df_calculate_td_properties-77"><span class="linenos"> 77</span></a><span class="sd">          statistical properties as columns.</span>
</span><span id="df_calculate_td_properties-78"><a href="#df_calculate_td_properties-78"><span class="linenos"> 78</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="df_calculate_td_properties-79"><a href="#df_calculate_td_properties-79"><span class="linenos"> 79</span></a>
</span><span id="df_calculate_td_properties-80"><a href="#df_calculate_td_properties-80"><span class="linenos"> 80</span></a>    <span class="n">df_input</span> <span class="o">=</span> <span class="n">_df_check_df_raw_input</span><span class="p">(</span><span class="n">df_input</span><span class="p">)</span>
</span><span id="df_calculate_td_properties-81"><a href="#df_calculate_td_properties-81"><span class="linenos"> 81</span></a>
</span><span id="df_calculate_td_properties-82"><a href="#df_calculate_td_properties-82"><span class="linenos"> 82</span></a>    <span class="n">list_valid_corr_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span> <span class="s1">&#39;kendall&#39;</span><span class="p">,</span> <span class="s1">&#39;spearman&#39;</span><span class="p">]</span>
</span><span id="df_calculate_td_properties-83"><a href="#df_calculate_td_properties-83"><span class="linenos"> 83</span></a>    <span class="k">if</span> <span class="n">string_corr_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_corr_methods</span><span class="p">:</span>
</span><span id="df_calculate_td_properties-84"><a href="#df_calculate_td_properties-84"><span class="linenos"> 84</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_corr_method is not one of the following:&#39;</span> <span class="o">+</span>
</span><span id="df_calculate_td_properties-85"><a href="#df_calculate_td_properties-85"><span class="linenos"> 85</span></a>                         <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_corr_methods</span><span class="p">))</span>
</span><span id="df_calculate_td_properties-86"><a href="#df_calculate_td_properties-86"><span class="linenos"> 86</span></a>
</span><span id="df_calculate_td_properties-87"><a href="#df_calculate_td_properties-87"><span class="linenos"> 87</span></a>    <span class="n">list_all_features</span> <span class="o">=</span> <span class="n">df_input</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</span><span id="df_calculate_td_properties-88"><a href="#df_calculate_td_properties-88"><span class="linenos"> 88</span></a>
</span><span id="df_calculate_td_properties-89"><a href="#df_calculate_td_properties-89"><span class="linenos"> 89</span></a>    <span class="c1"># Initialize dict</span>
</span><span id="df_calculate_td_properties-90"><a href="#df_calculate_td_properties-90"><span class="linenos"> 90</span></a>    <span class="n">dict_result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="df_calculate_td_properties-91"><a href="#df_calculate_td_properties-91"><span class="linenos"> 91</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="df_calculate_td_properties-92"><a href="#df_calculate_td_properties-92"><span class="linenos"> 92</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="df_calculate_td_properties-93"><a href="#df_calculate_td_properties-93"><span class="linenos"> 93</span></a>
</span><span id="df_calculate_td_properties-94"><a href="#df_calculate_td_properties-94"><span class="linenos"> 94</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="df_calculate_td_properties-95"><a href="#df_calculate_td_properties-95"><span class="linenos"> 95</span></a>        <span class="c1"># Calculating standard deviations</span>
</span><span id="df_calculate_td_properties-96"><a href="#df_calculate_td_properties-96"><span class="linenos"> 96</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-97"><a href="#df_calculate_td_properties-97"><span class="linenos"> 97</span></a>            <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</span><span id="df_calculate_td_properties-98"><a href="#df_calculate_td_properties-98"><span class="linenos"> 98</span></a>
</span><span id="df_calculate_td_properties-99"><a href="#df_calculate_td_properties-99"><span class="linenos"> 99</span></a>        <span class="c1"># Calculating Pearson&#39;s correlation</span>
</span><span id="df_calculate_td_properties-100"><a href="#df_calculate_td_properties-100"><span class="linenos">100</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-101"><a href="#df_calculate_td_properties-101"><span class="linenos">101</span></a>            <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-102"><a href="#df_calculate_td_properties-102"><span class="linenos">102</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="n">string_corr_method</span><span class="p">))</span>
</span><span id="df_calculate_td_properties-103"><a href="#df_calculate_td_properties-103"><span class="linenos">103</span></a>
</span><span id="df_calculate_td_properties-104"><a href="#df_calculate_td_properties-104"><span class="linenos">104</span></a>        <span class="c1"># Calculate arccos of Pearson&#39;s correlation</span>
</span><span id="df_calculate_td_properties-105"><a href="#df_calculate_td_properties-105"><span class="linenos">105</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-106"><a href="#df_calculate_td_properties-106"><span class="linenos">106</span></a>            <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])))</span>
</span><span id="df_calculate_td_properties-107"><a href="#df_calculate_td_properties-107"><span class="linenos">107</span></a>
</span><span id="df_calculate_td_properties-108"><a href="#df_calculate_td_properties-108"><span class="linenos">108</span></a>        <span class="c1"># Calculating RMS</span>
</span><span id="df_calculate_td_properties-109"><a href="#df_calculate_td_properties-109"><span class="linenos">109</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-110"><a href="#df_calculate_td_properties-110"><span class="linenos">110</span></a>            <span class="n">mean_squared_error</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-111"><a href="#df_calculate_td_properties-111"><span class="linenos">111</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">],</span>
</span><span id="df_calculate_td_properties-112"><a href="#df_calculate_td_properties-112"><span class="linenos">112</span></a>                <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="df_calculate_td_properties-113"><a href="#df_calculate_td_properties-113"><span class="linenos">113</span></a>
</span><span id="df_calculate_td_properties-114"><a href="#df_calculate_td_properties-114"><span class="linenos">114</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="df_calculate_td_properties-115"><a href="#df_calculate_td_properties-115"><span class="linenos">115</span></a>        <span class="c1"># Normalizing the RMS as in the paper</span>
</span><span id="df_calculate_td_properties-116"><a href="#df_calculate_td_properties-116"><span class="linenos">116</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-117"><a href="#df_calculate_td_properties-117"><span class="linenos">117</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span>
</span><span id="df_calculate_td_properties-118"><a href="#df_calculate_td_properties-118"><span class="linenos">118</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="df_calculate_td_properties-119"><a href="#df_calculate_td_properties-119"><span class="linenos">119</span></a>
</span><span id="df_calculate_td_properties-120"><a href="#df_calculate_td_properties-120"><span class="linenos">120</span></a>        <span class="c1"># Calculating normalized standard deviation</span>
</span><span id="df_calculate_td_properties-121"><a href="#df_calculate_td_properties-121"><span class="linenos">121</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-122"><a href="#df_calculate_td_properties-122"><span class="linenos">122</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">dict_result</span><span class="p">[</span>
</span><span id="df_calculate_td_properties-123"><a href="#df_calculate_td_properties-123"><span class="linenos">123</span></a>                <span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="df_calculate_td_properties-124"><a href="#df_calculate_td_properties-124"><span class="linenos">124</span></a>
</span><span id="df_calculate_td_properties-125"><a href="#df_calculate_td_properties-125"><span class="linenos">125</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
</span><span id="df_calculate_td_properties-126"><a href="#df_calculate_td_properties-126"><span class="linenos">126</span></a>        <span class="n">dict_result</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span>
</span><span id="df_calculate_td_properties-127"><a href="#df_calculate_td_properties-127"><span class="linenos">127</span></a>        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Standard Deviation&#39;</span><span class="p">,</span> <span class="s1">&#39;Correlation&#39;</span><span class="p">,</span> <span class="s1">&#39;Angle&#39;</span><span class="p">,</span> <span class="s1">&#39;RMS&#39;</span><span class="p">,</span>
</span><span id="df_calculate_td_properties-128"><a href="#df_calculate_td_properties-128"><span class="linenos">128</span></a>                 <span class="s1">&#39;Normalized RMS&#39;</span><span class="p">,</span> <span class="s1">&#39;Normalized Standard Deviation&#39;</span><span class="p">])</span>
</span><span id="df_calculate_td_properties-129"><a href="#df_calculate_td_properties-129"><span class="linenos">129</span></a>
</span><span id="df_calculate_td_properties-130"><a href="#df_calculate_td_properties-130"><span class="linenos">130</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">df_result</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">})</span>
</span><span id="df_calculate_td_properties-131"><a href="#df_calculate_td_properties-131"><span class="linenos">131</span></a>
</span><span id="df_calculate_td_properties-132"><a href="#df_calculate_td_properties-132"><span class="linenos">132</span></a>    <span class="k">return</span> <span class="n">df_result</span>
</span></pre></div>


            <div class="docstring"><p>df_calculate_td_properties caclulates all necessary statistical information
for the Taylor diagram from the input data set.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>df_input (pandas.DataFrame):</strong>  This dataframe has models in columns and
model prediction in rows. It is used to calculate relevant
statistical information.</li>
<li><strong>string_reference_model (str):</strong>  This string contains the name of the
model present in the df_input argument (as a column) which can be
considered as a reference point in the final diagram. This is often
the ground truth.</li>
<li><strong>string_corr_method (str, optional):</strong>  This string contains the name of
the method to be used when calculating the correlation. Defaults to
'pearson'.</li>
</ul>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>ValueError:</strong>  The error is raised if the string_corr_method is not one of
the following 'pearson', 'kendall', 'spearman'.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>pandas.DataFrame: This dataframe contains model names as indices and
    statistical properties as columns.</p>
</blockquote>
</div>


                </section>
                <section id="df_calculate_mid_properties">
                            <input id="df_calculate_mid_properties-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">df_calculate_mid_properties</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">df_input</span>,</span><span class="param">	<span class="n">string_reference_model</span>,</span><span class="param">	<span class="n">dict_mi_parameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;string_entropy_method&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;discrete_models&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;int_random_state&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="df_calculate_mid_properties-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#df_calculate_mid_properties"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="df_calculate_mid_properties-238"><a href="#df_calculate_mid_properties-238"><span class="linenos">238</span></a><span class="k">def</span> <span class="nf">df_calculate_mid_properties</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-239"><a href="#df_calculate_mid_properties-239"><span class="linenos">239</span></a>                                <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-240"><a href="#df_calculate_mid_properties-240"><span class="linenos">240</span></a>                                    <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-241"><a href="#df_calculate_mid_properties-241"><span class="linenos">241</span></a>                                    <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-242"><a href="#df_calculate_mid_properties-242"><span class="linenos">242</span></a>                                    <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-243"><a href="#df_calculate_mid_properties-243"><span class="linenos">243</span></a>                                    <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-244"><a href="#df_calculate_mid_properties-244"><span class="linenos">244</span></a>                                    <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">)):</span>
</span><span id="df_calculate_mid_properties-245"><a href="#df_calculate_mid_properties-245"><span class="linenos">245</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="df_calculate_mid_properties-246"><a href="#df_calculate_mid_properties-246"><span class="linenos">246</span></a><span class="sd">    df_calculate_mid_properties caclulates all necessary information theory</span>
</span><span id="df_calculate_mid_properties-247"><a href="#df_calculate_mid_properties-247"><span class="linenos">247</span></a><span class="sd">    properties for the Mutual Information diagram from the input data set.</span>
</span><span id="df_calculate_mid_properties-248"><a href="#df_calculate_mid_properties-248"><span class="linenos">248</span></a>
</span><span id="df_calculate_mid_properties-249"><a href="#df_calculate_mid_properties-249"><span class="linenos">249</span></a><span class="sd">    Args:</span>
</span><span id="df_calculate_mid_properties-250"><a href="#df_calculate_mid_properties-250"><span class="linenos">250</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe has models in columns and</span>
</span><span id="df_calculate_mid_properties-251"><a href="#df_calculate_mid_properties-251"><span class="linenos">251</span></a><span class="sd">          model prediction in rows. It is used to calculate relevan</span>
</span><span id="df_calculate_mid_properties-252"><a href="#df_calculate_mid_properties-252"><span class="linenos">252</span></a><span class="sd">          information theory propertiesdict_mi_parameters[&#39;discrete_models&#39;]</span>
</span><span id="df_calculate_mid_properties-253"><a href="#df_calculate_mid_properties-253"><span class="linenos">253</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="df_calculate_mid_properties-254"><a href="#df_calculate_mid_properties-254"><span class="linenos">254</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="df_calculate_mid_properties-255"><a href="#df_calculate_mid_properties-255"><span class="linenos">255</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="df_calculate_mid_properties-256"><a href="#df_calculate_mid_properties-256"><span class="linenos">256</span></a><span class="sd">          the ground truth.</span>
</span><span id="df_calculate_mid_properties-257"><a href="#df_calculate_mid_properties-257"><span class="linenos">257</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="df_calculate_mid_properties-258"><a href="#df_calculate_mid_properties-258"><span class="linenos">258</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="df_calculate_mid_properties-259"><a href="#df_calculate_mid_properties-259"><span class="linenos">259</span></a><span class="sd">          information. Defaults to</span>
</span><span id="df_calculate_mid_properties-260"><a href="#df_calculate_mid_properties-260"><span class="linenos">260</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="df_calculate_mid_properties-261"><a href="#df_calculate_mid_properties-261"><span class="linenos">261</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_models=&#39;auto&#39;,</span>
</span><span id="df_calculate_mid_properties-262"><a href="#df_calculate_mid_properties-262"><span class="linenos">262</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="df_calculate_mid_properties-263"><a href="#df_calculate_mid_properties-263"><span class="linenos">263</span></a>
</span><span id="df_calculate_mid_properties-264"><a href="#df_calculate_mid_properties-264"><span class="linenos">264</span></a><span class="sd">    Raises:</span>
</span><span id="df_calculate_mid_properties-265"><a href="#df_calculate_mid_properties-265"><span class="linenos">265</span></a><span class="sd">        ValueError: The error is raised if int_mi_n_neighbors is less or equal</span>
</span><span id="df_calculate_mid_properties-266"><a href="#df_calculate_mid_properties-266"><span class="linenos">266</span></a><span class="sd">          than zero.</span>
</span><span id="df_calculate_mid_properties-267"><a href="#df_calculate_mid_properties-267"><span class="linenos">267</span></a><span class="sd">        ValueError: The error is raised if string_entropy_method is not one of</span>
</span><span id="df_calculate_mid_properties-268"><a href="#df_calculate_mid_properties-268"><span class="linenos">268</span></a><span class="sd">          the following &#39;vasicek&#39;, &#39;van es&#39;, &#39;ebrahimi&#39;, &#39;correa&#39;, &#39;auto&#39;</span>
</span><span id="df_calculate_mid_properties-269"><a href="#df_calculate_mid_properties-269"><span class="linenos">269</span></a>
</span><span id="df_calculate_mid_properties-270"><a href="#df_calculate_mid_properties-270"><span class="linenos">270</span></a><span class="sd">    Returns:</span>
</span><span id="df_calculate_mid_properties-271"><a href="#df_calculate_mid_properties-271"><span class="linenos">271</span></a><span class="sd">        pandas.DataFrame: This dataframe contains model names as indices and</span>
</span><span id="df_calculate_mid_properties-272"><a href="#df_calculate_mid_properties-272"><span class="linenos">272</span></a><span class="sd">          information theory properties as columns.</span>
</span><span id="df_calculate_mid_properties-273"><a href="#df_calculate_mid_properties-273"><span class="linenos">273</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="df_calculate_mid_properties-274"><a href="#df_calculate_mid_properties-274"><span class="linenos">274</span></a>
</span><span id="df_calculate_mid_properties-275"><a href="#df_calculate_mid_properties-275"><span class="linenos">275</span></a>    <span class="n">df_input</span> <span class="o">=</span> <span class="n">_df_check_df_raw_input</span><span class="p">(</span><span class="n">df_input</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-276"><a href="#df_calculate_mid_properties-276"><span class="linenos">276</span></a>
</span><span id="df_calculate_mid_properties-277"><a href="#df_calculate_mid_properties-277"><span class="linenos">277</span></a>    <span class="n">dict_feature_discrete_mask</span> <span class="o">=</span> <span class="n">_dict_check_discrete_models</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-278"><a href="#df_calculate_mid_properties-278"><span class="linenos">278</span></a>        <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-279"><a href="#df_calculate_mid_properties-279"><span class="linenos">279</span></a>
</span><span id="df_calculate_mid_properties-280"><a href="#df_calculate_mid_properties-280"><span class="linenos">280</span></a>    <span class="n">list_valid_parameters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">,</span> <span class="s1">&#39;string_entropy_method&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-281"><a href="#df_calculate_mid_properties-281"><span class="linenos">281</span></a>                             <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-282"><a href="#df_calculate_mid_properties-282"><span class="linenos">282</span></a>                             <span class="s1">&#39;int_random_state&#39;</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-283"><a href="#df_calculate_mid_properties-283"><span class="linenos">283</span></a>    <span class="n">list_valid_entropy_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;vasicek&#39;</span><span class="p">,</span> <span class="s1">&#39;van es&#39;</span><span class="p">,</span> <span class="s1">&#39;ebrahimi&#39;</span><span class="p">,</span> <span class="s1">&#39;correa&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-284"><a href="#df_calculate_mid_properties-284"><span class="linenos">284</span></a>                                  <span class="s1">&#39;auto&#39;</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-285"><a href="#df_calculate_mid_properties-285"><span class="linenos">285</span></a>    <span class="n">list_valid_discrete_target</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-286"><a href="#df_calculate_mid_properties-286"><span class="linenos">286</span></a>    <span class="n">list_valid_float_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-287"><a href="#df_calculate_mid_properties-287"><span class="linenos">287</span></a>
</span><span id="df_calculate_mid_properties-288"><a href="#df_calculate_mid_properties-288"><span class="linenos">288</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">string_parameter</span> <span class="ow">in</span> <span class="n">dict_mi_parameters</span>
</span><span id="df_calculate_mid_properties-289"><a href="#df_calculate_mid_properties-289"><span class="linenos">289</span></a>               <span class="k">for</span> <span class="n">string_parameter</span> <span class="ow">in</span> <span class="n">list_valid_parameters</span><span class="p">):</span>
</span><span id="df_calculate_mid_properties-290"><a href="#df_calculate_mid_properties-290"><span class="linenos">290</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;dict_mi_parameters must contain all of the keys&#39;</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-291"><a href="#df_calculate_mid_properties-291"><span class="linenos">291</span></a>                         <span class="s1">&#39; from this list &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_parameters</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-292"><a href="#df_calculate_mid_properties-292"><span class="linenos">292</span></a>
</span><span id="df_calculate_mid_properties-293"><a href="#df_calculate_mid_properties-293"><span class="linenos">293</span></a>    <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-294"><a href="#df_calculate_mid_properties-294"><span class="linenos">294</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;int_mi_n_neighbors has to be greater than 0.&#39;</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-295"><a href="#df_calculate_mid_properties-295"><span class="linenos">295</span></a>
</span><span id="df_calculate_mid_properties-296"><a href="#df_calculate_mid_properties-296"><span class="linenos">296</span></a>    <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span>
</span><span id="df_calculate_mid_properties-297"><a href="#df_calculate_mid_properties-297"><span class="linenos">297</span></a>            <span class="s1">&#39;string_entropy_method&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_entropy_methods</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-298"><a href="#df_calculate_mid_properties-298"><span class="linenos">298</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_entropy_method is not one of the&#39;</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-299"><a href="#df_calculate_mid_properties-299"><span class="linenos">299</span></a>                         <span class="s1">&#39; following:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_entropy_methods</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-300"><a href="#df_calculate_mid_properties-300"><span class="linenos">300</span></a>
</span><span id="df_calculate_mid_properties-301"><a href="#df_calculate_mid_properties-301"><span class="linenos">301</span></a>    <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span>
</span><span id="df_calculate_mid_properties-302"><a href="#df_calculate_mid_properties-302"><span class="linenos">302</span></a>            <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_discrete_target</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-303"><a href="#df_calculate_mid_properties-303"><span class="linenos">303</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;bool_discrete_reference_model is not one of the&#39;</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-304"><a href="#df_calculate_mid_properties-304"><span class="linenos">304</span></a>                         <span class="s1">&#39; following:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_discrete_target</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-305"><a href="#df_calculate_mid_properties-305"><span class="linenos">305</span></a>
</span><span id="df_calculate_mid_properties-306"><a href="#df_calculate_mid_properties-306"><span class="linenos">306</span></a>    <span class="n">list_all_features</span> <span class="o">=</span> <span class="n">df_input</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</span><span id="df_calculate_mid_properties-307"><a href="#df_calculate_mid_properties-307"><span class="linenos">307</span></a>
</span><span id="df_calculate_mid_properties-308"><a href="#df_calculate_mid_properties-308"><span class="linenos">308</span></a>    <span class="c1"># Initialize dict</span>
</span><span id="df_calculate_mid_properties-309"><a href="#df_calculate_mid_properties-309"><span class="linenos">309</span></a>    <span class="n">dict_result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="df_calculate_mid_properties-310"><a href="#df_calculate_mid_properties-310"><span class="linenos">310</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-311"><a href="#df_calculate_mid_properties-311"><span class="linenos">311</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="df_calculate_mid_properties-312"><a href="#df_calculate_mid_properties-312"><span class="linenos">312</span></a>
</span><span id="df_calculate_mid_properties-313"><a href="#df_calculate_mid_properties-313"><span class="linenos">313</span></a>    <span class="c1"># That is causing an error when calculating angles</span>
</span><span id="df_calculate_mid_properties-314"><a href="#df_calculate_mid_properties-314"><span class="linenos">314</span></a>    <span class="c1"># Try to find better default parameters so it doesn&#39;t happen</span>
</span><span id="df_calculate_mid_properties-315"><a href="#df_calculate_mid_properties-315"><span class="linenos">315</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-316"><a href="#df_calculate_mid_properties-316"><span class="linenos">316</span></a>        <span class="c1"># Calculate entropies</span>
</span><span id="df_calculate_mid_properties-317"><a href="#df_calculate_mid_properties-317"><span class="linenos">317</span></a>        <span class="c1"># 0 in the list</span>
</span><span id="df_calculate_mid_properties-318"><a href="#df_calculate_mid_properties-318"><span class="linenos">318</span></a>        <span class="k">if</span> <span class="n">string_one_model</span> <span class="o">==</span> <span class="n">string_reference_model</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-319"><a href="#df_calculate_mid_properties-319"><span class="linenos">319</span></a>            <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">]:</span>
</span><span id="df_calculate_mid_properties-320"><a href="#df_calculate_mid_properties-320"><span class="linenos">320</span></a>                <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-321"><a href="#df_calculate_mid_properties-321"><span class="linenos">321</span></a>                    <span class="n">_float_calculate_discrete_entropy</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-322"><a href="#df_calculate_mid_properties-322"><span class="linenos">322</span></a>                        <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">int_base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-323"><a href="#df_calculate_mid_properties-323"><span class="linenos">323</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-324"><a href="#df_calculate_mid_properties-324"><span class="linenos">324</span></a>                <span class="k">if</span> <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="ow">in</span> <span class="n">list_valid_float_types</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-325"><a href="#df_calculate_mid_properties-325"><span class="linenos">325</span></a>                    <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-326"><a href="#df_calculate_mid_properties-326"><span class="linenos">326</span></a>                        <span class="n">differential_entropy</span><span class="p">(</span><span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span>
</span><span id="df_calculate_mid_properties-327"><a href="#df_calculate_mid_properties-327"><span class="linenos">327</span></a>                                             <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-328"><a href="#df_calculate_mid_properties-328"><span class="linenos">328</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-329"><a href="#df_calculate_mid_properties-329"><span class="linenos">329</span></a>                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-330"><a href="#df_calculate_mid_properties-330"><span class="linenos">330</span></a>                        <span class="s1">&#39;Model named &#39;</span> <span class="o">+</span> <span class="n">string_one_model</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-331"><a href="#df_calculate_mid_properties-331"><span class="linenos">331</span></a>                        <span class="s1">&#39; is said to be contionus but has values&#39;</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-332"><a href="#df_calculate_mid_properties-332"><span class="linenos">332</span></a>                        <span class="s1">&#39; that are not one of the following type &#39;</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-333"><a href="#df_calculate_mid_properties-333"><span class="linenos">333</span></a>                        <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_float_types</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-334"><a href="#df_calculate_mid_properties-334"><span class="linenos">334</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-335"><a href="#df_calculate_mid_properties-335"><span class="linenos">335</span></a>            <span class="k">if</span> <span class="n">dict_feature_discrete_mask</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]:</span>
</span><span id="df_calculate_mid_properties-336"><a href="#df_calculate_mid_properties-336"><span class="linenos">336</span></a>                <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-337"><a href="#df_calculate_mid_properties-337"><span class="linenos">337</span></a>                    <span class="n">_float_calculate_discrete_entropy</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-338"><a href="#df_calculate_mid_properties-338"><span class="linenos">338</span></a>                        <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span> <span class="n">int_base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-339"><a href="#df_calculate_mid_properties-339"><span class="linenos">339</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-340"><a href="#df_calculate_mid_properties-340"><span class="linenos">340</span></a>                <span class="k">if</span> <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="ow">in</span> <span class="n">list_valid_float_types</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-341"><a href="#df_calculate_mid_properties-341"><span class="linenos">341</span></a>                    <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-342"><a href="#df_calculate_mid_properties-342"><span class="linenos">342</span></a>                        <span class="n">differential_entropy</span><span class="p">(</span><span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">],</span>
</span><span id="df_calculate_mid_properties-343"><a href="#df_calculate_mid_properties-343"><span class="linenos">343</span></a>                                             <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-344"><a href="#df_calculate_mid_properties-344"><span class="linenos">344</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-345"><a href="#df_calculate_mid_properties-345"><span class="linenos">345</span></a>                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-346"><a href="#df_calculate_mid_properties-346"><span class="linenos">346</span></a>                        <span class="s1">&#39;Model named &#39;</span> <span class="o">+</span> <span class="n">string_one_model</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-347"><a href="#df_calculate_mid_properties-347"><span class="linenos">347</span></a>                        <span class="s1">&#39; is said to be contionus but has values&#39;</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-348"><a href="#df_calculate_mid_properties-348"><span class="linenos">348</span></a>                        <span class="s1">&#39; that are not one of the following type &#39;</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-349"><a href="#df_calculate_mid_properties-349"><span class="linenos">349</span></a>                        <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_float_types</span><span class="p">))</span>
</span><span id="df_calculate_mid_properties-350"><a href="#df_calculate_mid_properties-350"><span class="linenos">350</span></a>
</span><span id="df_calculate_mid_properties-351"><a href="#df_calculate_mid_properties-351"><span class="linenos">351</span></a>        <span class="k">if</span> <span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">]:</span>
</span><span id="df_calculate_mid_properties-352"><a href="#df_calculate_mid_properties-352"><span class="linenos">352</span></a>            <span class="c1"># Calculate mutual informations against the reference feature</span>
</span><span id="df_calculate_mid_properties-353"><a href="#df_calculate_mid_properties-353"><span class="linenos">353</span></a>            <span class="c1"># 1 in the list</span>
</span><span id="df_calculate_mid_properties-354"><a href="#df_calculate_mid_properties-354"><span class="linenos">354</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-355"><a href="#df_calculate_mid_properties-355"><span class="linenos">355</span></a>                <span class="n">mutual_info_classif</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-356"><a href="#df_calculate_mid_properties-356"><span class="linenos">356</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
</span><span id="df_calculate_mid_properties-357"><a href="#df_calculate_mid_properties-357"><span class="linenos">357</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">],</span>
</span><span id="df_calculate_mid_properties-358"><a href="#df_calculate_mid_properties-358"><span class="linenos">358</span></a>                    <span class="n">random_state</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;int_random_state&#39;</span><span class="p">],</span>
</span><span id="df_calculate_mid_properties-359"><a href="#df_calculate_mid_properties-359"><span class="linenos">359</span></a>                    <span class="n">discrete_features</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-360"><a href="#df_calculate_mid_properties-360"><span class="linenos">360</span></a>                    <span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-361"><a href="#df_calculate_mid_properties-361"><span class="linenos">361</span></a>
</span><span id="df_calculate_mid_properties-362"><a href="#df_calculate_mid_properties-362"><span class="linenos">362</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-363"><a href="#df_calculate_mid_properties-363"><span class="linenos">363</span></a>            <span class="c1"># Calculate mutual informations against the reference feature</span>
</span><span id="df_calculate_mid_properties-364"><a href="#df_calculate_mid_properties-364"><span class="linenos">364</span></a>            <span class="c1"># 1 in the list</span>
</span><span id="df_calculate_mid_properties-365"><a href="#df_calculate_mid_properties-365"><span class="linenos">365</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-366"><a href="#df_calculate_mid_properties-366"><span class="linenos">366</span></a>                <span class="n">mutual_info_regression</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-367"><a href="#df_calculate_mid_properties-367"><span class="linenos">367</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
</span><span id="df_calculate_mid_properties-368"><a href="#df_calculate_mid_properties-368"><span class="linenos">368</span></a>                    <span class="n">df_input</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">],</span>
</span><span id="df_calculate_mid_properties-369"><a href="#df_calculate_mid_properties-369"><span class="linenos">369</span></a>                    <span class="n">random_state</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;int_random_state&#39;</span><span class="p">],</span>
</span><span id="df_calculate_mid_properties-370"><a href="#df_calculate_mid_properties-370"><span class="linenos">370</span></a>                    <span class="n">discrete_features</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">[</span><span class="s1">&#39;discrete_models&#39;</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-371"><a href="#df_calculate_mid_properties-371"><span class="linenos">371</span></a>                    <span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-372"><a href="#df_calculate_mid_properties-372"><span class="linenos">372</span></a>
</span><span id="df_calculate_mid_properties-373"><a href="#df_calculate_mid_properties-373"><span class="linenos">373</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-374"><a href="#df_calculate_mid_properties-374"><span class="linenos">374</span></a>        <span class="c1"># Calculating fixed MI from equation 17 from the paper</span>
</span><span id="df_calculate_mid_properties-375"><a href="#df_calculate_mid_properties-375"><span class="linenos">375</span></a>        <span class="c1"># I(X,Y) = I~(X,Y) * (H(X) / I~(X,X)) where I~ is MI calculated using</span>
</span><span id="df_calculate_mid_properties-376"><a href="#df_calculate_mid_properties-376"><span class="linenos">376</span></a>        <span class="c1"># some estimation method. This MI is used for every calculation</span>
</span><span id="df_calculate_mid_properties-377"><a href="#df_calculate_mid_properties-377"><span class="linenos">377</span></a>        <span class="c1"># afterwards</span>
</span><span id="df_calculate_mid_properties-378"><a href="#df_calculate_mid_properties-378"><span class="linenos">378</span></a>        <span class="c1"># 2 in the list</span>
</span><span id="df_calculate_mid_properties-379"><a href="#df_calculate_mid_properties-379"><span class="linenos">379</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-380"><a href="#df_calculate_mid_properties-380"><span class="linenos">380</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span>
</span><span id="df_calculate_mid_properties-381"><a href="#df_calculate_mid_properties-381"><span class="linenos">381</span></a>            <span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span>
</span><span id="df_calculate_mid_properties-382"><a href="#df_calculate_mid_properties-382"><span class="linenos">382</span></a>             <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="df_calculate_mid_properties-383"><a href="#df_calculate_mid_properties-383"><span class="linenos">383</span></a>
</span><span id="df_calculate_mid_properties-384"><a href="#df_calculate_mid_properties-384"><span class="linenos">384</span></a>        <span class="c1"># Calculate normalized (centered) entropies</span>
</span><span id="df_calculate_mid_properties-385"><a href="#df_calculate_mid_properties-385"><span class="linenos">385</span></a>        <span class="c1"># 3 in the list</span>
</span><span id="df_calculate_mid_properties-386"><a href="#df_calculate_mid_properties-386"><span class="linenos">386</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-387"><a href="#df_calculate_mid_properties-387"><span class="linenos">387</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span>
</span><span id="df_calculate_mid_properties-388"><a href="#df_calculate_mid_properties-388"><span class="linenos">388</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-389"><a href="#df_calculate_mid_properties-389"><span class="linenos">389</span></a>
</span><span id="df_calculate_mid_properties-390"><a href="#df_calculate_mid_properties-390"><span class="linenos">390</span></a>        <span class="c1"># Calculate normalized mutual information according to the paper</span>
</span><span id="df_calculate_mid_properties-391"><a href="#df_calculate_mid_properties-391"><span class="linenos">391</span></a>        <span class="c1"># NMI(X,Y) = I(X,Y) / sqrt(H(X) * H(Y))</span>
</span><span id="df_calculate_mid_properties-392"><a href="#df_calculate_mid_properties-392"><span class="linenos">392</span></a>        <span class="c1"># This has to be modified because H(X)*H(Y) can be negative for</span>
</span><span id="df_calculate_mid_properties-393"><a href="#df_calculate_mid_properties-393"><span class="linenos">393</span></a>        <span class="c1"># differential entropies. NMI is not used at all for the MI chart</span>
</span><span id="df_calculate_mid_properties-394"><a href="#df_calculate_mid_properties-394"><span class="linenos">394</span></a>        <span class="c1"># that spans two quadrants</span>
</span><span id="df_calculate_mid_properties-395"><a href="#df_calculate_mid_properties-395"><span class="linenos">395</span></a>        <span class="c1"># 4 in the list</span>
</span><span id="df_calculate_mid_properties-396"><a href="#df_calculate_mid_properties-396"><span class="linenos">396</span></a>        <span class="n">float_product</span> <span class="o">=</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span>\
</span><span id="df_calculate_mid_properties-397"><a href="#df_calculate_mid_properties-397"><span class="linenos">397</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-398"><a href="#df_calculate_mid_properties-398"><span class="linenos">398</span></a>
</span><span id="df_calculate_mid_properties-399"><a href="#df_calculate_mid_properties-399"><span class="linenos">399</span></a>        <span class="k">if</span> <span class="n">float_product</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-400"><a href="#df_calculate_mid_properties-400"><span class="linenos">400</span></a>            <span class="n">float_product</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="df_calculate_mid_properties-401"><a href="#df_calculate_mid_properties-401"><span class="linenos">401</span></a>
</span><span id="df_calculate_mid_properties-402"><a href="#df_calculate_mid_properties-402"><span class="linenos">402</span></a>        <span class="n">float_divide</span> <span class="o">=</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span>\
</span><span id="df_calculate_mid_properties-403"><a href="#df_calculate_mid_properties-403"><span class="linenos">403</span></a>            <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">float_product</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-404"><a href="#df_calculate_mid_properties-404"><span class="linenos">404</span></a>
</span><span id="df_calculate_mid_properties-405"><a href="#df_calculate_mid_properties-405"><span class="linenos">405</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">float_divide</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-406"><a href="#df_calculate_mid_properties-406"><span class="linenos">406</span></a>
</span><span id="df_calculate_mid_properties-407"><a href="#df_calculate_mid_properties-407"><span class="linenos">407</span></a>        <span class="c1"># Calculate arccos of normalized mutual information according to the</span>
</span><span id="df_calculate_mid_properties-408"><a href="#df_calculate_mid_properties-408"><span class="linenos">408</span></a>        <span class="c1"># paper arccos(NMI(X,Y))</span>
</span><span id="df_calculate_mid_properties-409"><a href="#df_calculate_mid_properties-409"><span class="linenos">409</span></a>        <span class="c1"># 5 in the list</span>
</span><span id="df_calculate_mid_properties-410"><a href="#df_calculate_mid_properties-410"><span class="linenos">410</span></a>        <span class="k">if</span> <span class="n">float_divide</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-411"><a href="#df_calculate_mid_properties-411"><span class="linenos">411</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-412"><a href="#df_calculate_mid_properties-412"><span class="linenos">412</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="df_calculate_mid_properties-413"><a href="#df_calculate_mid_properties-413"><span class="linenos">413</span></a>        <span class="k">elif</span> <span class="n">float_divide</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-414"><a href="#df_calculate_mid_properties-414"><span class="linenos">414</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-415"><a href="#df_calculate_mid_properties-415"><span class="linenos">415</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="df_calculate_mid_properties-416"><a href="#df_calculate_mid_properties-416"><span class="linenos">416</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-417"><a href="#df_calculate_mid_properties-417"><span class="linenos">417</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-418"><a href="#df_calculate_mid_properties-418"><span class="linenos">418</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">float_divide</span><span class="p">)))</span>
</span><span id="df_calculate_mid_properties-419"><a href="#df_calculate_mid_properties-419"><span class="linenos">419</span></a>
</span><span id="df_calculate_mid_properties-420"><a href="#df_calculate_mid_properties-420"><span class="linenos">420</span></a>        <span class="c1"># Calculate root entropy</span>
</span><span id="df_calculate_mid_properties-421"><a href="#df_calculate_mid_properties-421"><span class="linenos">421</span></a>        <span class="c1"># 6 in the list</span>
</span><span id="df_calculate_mid_properties-422"><a href="#df_calculate_mid_properties-422"><span class="linenos">422</span></a>        <span class="k">if</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-423"><a href="#df_calculate_mid_properties-423"><span class="linenos">423</span></a>            <span class="n">float_root_entropy</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-424"><a href="#df_calculate_mid_properties-424"><span class="linenos">424</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-425"><a href="#df_calculate_mid_properties-425"><span class="linenos">425</span></a>            <span class="n">float_root_entropy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="df_calculate_mid_properties-426"><a href="#df_calculate_mid_properties-426"><span class="linenos">426</span></a>
</span><span id="df_calculate_mid_properties-427"><a href="#df_calculate_mid_properties-427"><span class="linenos">427</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">float_root_entropy</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-428"><a href="#df_calculate_mid_properties-428"><span class="linenos">428</span></a>
</span><span id="df_calculate_mid_properties-429"><a href="#df_calculate_mid_properties-429"><span class="linenos">429</span></a>    <span class="k">for</span> <span class="n">string_one_model</span> <span class="ow">in</span> <span class="n">list_all_features</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-430"><a href="#df_calculate_mid_properties-430"><span class="linenos">430</span></a>        <span class="c1">######################################################################</span>
</span><span id="df_calculate_mid_properties-431"><a href="#df_calculate_mid_properties-431"><span class="linenos">431</span></a>        <span class="c1"># This part is for the chart that spans two quadrants</span>
</span><span id="df_calculate_mid_properties-432"><a href="#df_calculate_mid_properties-432"><span class="linenos">432</span></a>
</span><span id="df_calculate_mid_properties-433"><a href="#df_calculate_mid_properties-433"><span class="linenos">433</span></a>        <span class="c1"># First calculate joint entropies by using equation 10 from the paper</span>
</span><span id="df_calculate_mid_properties-434"><a href="#df_calculate_mid_properties-434"><span class="linenos">434</span></a>        <span class="c1"># I(X,Y) = H(X) + H(Y) - H(X,Y) =&gt; H(X,Y) = H(X) + H(Y) - I(X,Y)</span>
</span><span id="df_calculate_mid_properties-435"><a href="#df_calculate_mid_properties-435"><span class="linenos">435</span></a>        <span class="c1"># 7 in the list</span>
</span><span id="df_calculate_mid_properties-436"><a href="#df_calculate_mid_properties-436"><span class="linenos">436</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-437"><a href="#df_calculate_mid_properties-437"><span class="linenos">437</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-438"><a href="#df_calculate_mid_properties-438"><span class="linenos">438</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span>
</span><span id="df_calculate_mid_properties-439"><a href="#df_calculate_mid_properties-439"><span class="linenos">439</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-440"><a href="#df_calculate_mid_properties-440"><span class="linenos">440</span></a>
</span><span id="df_calculate_mid_properties-441"><a href="#df_calculate_mid_properties-441"><span class="linenos">441</span></a>        <span class="c1"># Calculate scaled mutual information according to the paper</span>
</span><span id="df_calculate_mid_properties-442"><a href="#df_calculate_mid_properties-442"><span class="linenos">442</span></a>        <span class="c1"># SMI(X,Y) = I(X,Y) * ((H(X,Y) / (H(X)*H(Y)))) (equation 15)</span>
</span><span id="df_calculate_mid_properties-443"><a href="#df_calculate_mid_properties-443"><span class="linenos">443</span></a>        <span class="c1"># 8 in the list</span>
</span><span id="df_calculate_mid_properties-444"><a href="#df_calculate_mid_properties-444"><span class="linenos">444</span></a>        <span class="n">smi_x_y</span> <span class="o">=</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span>
</span><span id="df_calculate_mid_properties-445"><a href="#df_calculate_mid_properties-445"><span class="linenos">445</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span>
</span><span id="df_calculate_mid_properties-446"><a href="#df_calculate_mid_properties-446"><span class="linenos">446</span></a>            <span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="df_calculate_mid_properties-447"><a href="#df_calculate_mid_properties-447"><span class="linenos">447</span></a>             <span class="o">*</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="df_calculate_mid_properties-448"><a href="#df_calculate_mid_properties-448"><span class="linenos">448</span></a>
</span><span id="df_calculate_mid_properties-449"><a href="#df_calculate_mid_properties-449"><span class="linenos">449</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">smi_x_y</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-450"><a href="#df_calculate_mid_properties-450"><span class="linenos">450</span></a>
</span><span id="df_calculate_mid_properties-451"><a href="#df_calculate_mid_properties-451"><span class="linenos">451</span></a>        <span class="c1"># Calculate arccos of biased scaled mutual information according to the</span>
</span><span id="df_calculate_mid_properties-452"><a href="#df_calculate_mid_properties-452"><span class="linenos">452</span></a>        <span class="c1"># paper arccos(c(X,Y)) where c(X,Y) = 2*SMI(X,Y) - 1</span>
</span><span id="df_calculate_mid_properties-453"><a href="#df_calculate_mid_properties-453"><span class="linenos">453</span></a>        <span class="c1"># 9 in the list</span>
</span><span id="df_calculate_mid_properties-454"><a href="#df_calculate_mid_properties-454"><span class="linenos">454</span></a>        <span class="n">float_c_x_y</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">smi_x_y</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="df_calculate_mid_properties-455"><a href="#df_calculate_mid_properties-455"><span class="linenos">455</span></a>
</span><span id="df_calculate_mid_properties-456"><a href="#df_calculate_mid_properties-456"><span class="linenos">456</span></a>        <span class="k">if</span> <span class="n">float_c_x_y</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-457"><a href="#df_calculate_mid_properties-457"><span class="linenos">457</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-458"><a href="#df_calculate_mid_properties-458"><span class="linenos">458</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="df_calculate_mid_properties-459"><a href="#df_calculate_mid_properties-459"><span class="linenos">459</span></a>        <span class="k">elif</span> <span class="n">float_c_x_y</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-460"><a href="#df_calculate_mid_properties-460"><span class="linenos">460</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-461"><a href="#df_calculate_mid_properties-461"><span class="linenos">461</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
</span><span id="df_calculate_mid_properties-462"><a href="#df_calculate_mid_properties-462"><span class="linenos">462</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-463"><a href="#df_calculate_mid_properties-463"><span class="linenos">463</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-464"><a href="#df_calculate_mid_properties-464"><span class="linenos">464</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">float_c_x_y</span><span class="p">)))</span>
</span><span id="df_calculate_mid_properties-465"><a href="#df_calculate_mid_properties-465"><span class="linenos">465</span></a>
</span><span id="df_calculate_mid_properties-466"><a href="#df_calculate_mid_properties-466"><span class="linenos">466</span></a>        <span class="c1"># Calculate normalized root entropy</span>
</span><span id="df_calculate_mid_properties-467"><a href="#df_calculate_mid_properties-467"><span class="linenos">467</span></a>        <span class="c1"># 10 in the list</span>
</span><span id="df_calculate_mid_properties-468"><a href="#df_calculate_mid_properties-468"><span class="linenos">468</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-469"><a href="#df_calculate_mid_properties-469"><span class="linenos">469</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span> <span class="o">/</span>
</span><span id="df_calculate_mid_properties-470"><a href="#df_calculate_mid_properties-470"><span class="linenos">470</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">6</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-471"><a href="#df_calculate_mid_properties-471"><span class="linenos">471</span></a>
</span><span id="df_calculate_mid_properties-472"><a href="#df_calculate_mid_properties-472"><span class="linenos">472</span></a>        <span class="c1">######################################################################</span>
</span><span id="df_calculate_mid_properties-473"><a href="#df_calculate_mid_properties-473"><span class="linenos">473</span></a>
</span><span id="df_calculate_mid_properties-474"><a href="#df_calculate_mid_properties-474"><span class="linenos">474</span></a>        <span class="c1"># Calculate the variation of information (VI) using the equation 11</span>
</span><span id="df_calculate_mid_properties-475"><a href="#df_calculate_mid_properties-475"><span class="linenos">475</span></a>        <span class="c1"># from the paper: VI(X,Y) = H(X) + H(Y) - 2I(X;Y)</span>
</span><span id="df_calculate_mid_properties-476"><a href="#df_calculate_mid_properties-476"><span class="linenos">476</span></a>        <span class="c1"># 11 in the list</span>
</span><span id="df_calculate_mid_properties-477"><a href="#df_calculate_mid_properties-477"><span class="linenos">477</span></a>        <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-478"><a href="#df_calculate_mid_properties-478"><span class="linenos">478</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_reference_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
</span><span id="df_calculate_mid_properties-479"><a href="#df_calculate_mid_properties-479"><span class="linenos">479</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span>
</span><span id="df_calculate_mid_properties-480"><a href="#df_calculate_mid_properties-480"><span class="linenos">480</span></a>            <span class="mi">2</span> <span class="o">*</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-481"><a href="#df_calculate_mid_properties-481"><span class="linenos">481</span></a>
</span><span id="df_calculate_mid_properties-482"><a href="#df_calculate_mid_properties-482"><span class="linenos">482</span></a>        <span class="c1"># Calculate the root variation of information (RVI)</span>
</span><span id="df_calculate_mid_properties-483"><a href="#df_calculate_mid_properties-483"><span class="linenos">483</span></a>        <span class="c1"># 12 in the list</span>
</span><span id="df_calculate_mid_properties-484"><a href="#df_calculate_mid_properties-484"><span class="linenos">484</span></a>        <span class="k">if</span> <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-485"><a href="#df_calculate_mid_properties-485"><span class="linenos">485</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="df_calculate_mid_properties-486"><a href="#df_calculate_mid_properties-486"><span class="linenos">486</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="df_calculate_mid_properties-487"><a href="#df_calculate_mid_properties-487"><span class="linenos">487</span></a>            <span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-488"><a href="#df_calculate_mid_properties-488"><span class="linenos">488</span></a>                <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dict_result</span><span class="p">[</span><span class="n">string_one_model</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="df_calculate_mid_properties-489"><a href="#df_calculate_mid_properties-489"><span class="linenos">489</span></a>
</span><span id="df_calculate_mid_properties-490"><a href="#df_calculate_mid_properties-490"><span class="linenos">490</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
</span><span id="df_calculate_mid_properties-491"><a href="#df_calculate_mid_properties-491"><span class="linenos">491</span></a>        <span class="n">dict_result</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-492"><a href="#df_calculate_mid_properties-492"><span class="linenos">492</span></a>        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;Mutual Information&#39;</span><span class="p">,</span> <span class="s1">&#39;Fixed_MI&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-493"><a href="#df_calculate_mid_properties-493"><span class="linenos">493</span></a>                 <span class="s1">&#39;Normalized Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;Normalized MI&#39;</span><span class="p">,</span> <span class="s1">&#39;Angle_NMI&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-494"><a href="#df_calculate_mid_properties-494"><span class="linenos">494</span></a>                 <span class="s1">&#39;Root Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;Joint_entropies&#39;</span><span class="p">,</span> <span class="s1">&#39;Scaled MI&#39;</span><span class="p">,</span>
</span><span id="df_calculate_mid_properties-495"><a href="#df_calculate_mid_properties-495"><span class="linenos">495</span></a>                 <span class="s1">&#39;Angle_SMI&#39;</span><span class="p">,</span> <span class="s1">&#39;Normalized Root Entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;RVI&#39;</span><span class="p">])</span>
</span><span id="df_calculate_mid_properties-496"><a href="#df_calculate_mid_properties-496"><span class="linenos">496</span></a>
</span><span id="df_calculate_mid_properties-497"><a href="#df_calculate_mid_properties-497"><span class="linenos">497</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">df_result</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">})</span>
</span><span id="df_calculate_mid_properties-498"><a href="#df_calculate_mid_properties-498"><span class="linenos">498</span></a>
</span><span id="df_calculate_mid_properties-499"><a href="#df_calculate_mid_properties-499"><span class="linenos">499</span></a>    <span class="k">return</span> <span class="n">df_result</span>
</span></pre></div>


            <div class="docstring"><p>df_calculate_mid_properties caclulates all necessary information theory
properties for the Mutual Information diagram from the input data set.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>df_input (pandas.DataFrame):</strong>  This dataframe has models in columns and
model prediction in rows. It is used to calculate relevan
information theory propertiesdict_mi_parameters['discrete_models']</li>
<li><strong>string_reference_model (str):</strong>  This string contains the name of the
model present in the df_input argument (as a column) which can be
considered as a reference point in the final diagram. This is often
the ground truth.</li>
<li><strong>dict_mi_parameters (dict, optional):</strong>  This dictionary contains
configuration parameters for the calculation of entropy and mutual
information. Defaults to
dict(int_mi_n_neighbors=3, string_entropy_method='auto',
     bool_discrete_reference_model=False, discrete_models='auto',
     int_random_state=_INT_RANDOM_SEED).</li>
</ul>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>ValueError:</strong>  The error is raised if int_mi_n_neighbors is less or equal
than zero.</li>
<li><strong>ValueError:</strong>  The error is raised if string_entropy_method is not one of
the following 'vasicek', 'van es', 'ebrahimi', 'correa', 'auto'</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>pandas.DataFrame: This dataframe contains model names as indices and
    information theory properties as columns.</p>
</blockquote>
</div>


                </section>
                <section id="df_calculate_all_properties">
                            <input id="df_calculate_all_properties-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">df_calculate_all_properties</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">df_input</span>,</span><span class="param">	<span class="n">string_reference_model</span>,</span><span class="param">	<span class="n">dict_mi_parameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;string_entropy_method&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;discrete_models&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;int_random_state&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>,</span><span class="param">	<span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="df_calculate_all_properties-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#df_calculate_all_properties"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="df_calculate_all_properties-502"><a href="#df_calculate_all_properties-502"><span class="linenos">502</span></a><span class="k">def</span> <span class="nf">df_calculate_all_properties</span><span class="p">(</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="df_calculate_all_properties-503"><a href="#df_calculate_all_properties-503"><span class="linenos">503</span></a>                                <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="df_calculate_all_properties-504"><a href="#df_calculate_all_properties-504"><span class="linenos">504</span></a>                                    <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="df_calculate_all_properties-505"><a href="#df_calculate_all_properties-505"><span class="linenos">505</span></a>                                    <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="df_calculate_all_properties-506"><a href="#df_calculate_all_properties-506"><span class="linenos">506</span></a>                                    <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="df_calculate_all_properties-507"><a href="#df_calculate_all_properties-507"><span class="linenos">507</span></a>                                    <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="df_calculate_all_properties-508"><a href="#df_calculate_all_properties-508"><span class="linenos">508</span></a>                                    <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">),</span>
</span><span id="df_calculate_all_properties-509"><a href="#df_calculate_all_properties-509"><span class="linenos">509</span></a>                                <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">):</span>
</span><span id="df_calculate_all_properties-510"><a href="#df_calculate_all_properties-510"><span class="linenos">510</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="df_calculate_all_properties-511"><a href="#df_calculate_all_properties-511"><span class="linenos">511</span></a><span class="sd">    df_calculate_all_properties caclulates all necessary statistical and</span>
</span><span id="df_calculate_all_properties-512"><a href="#df_calculate_all_properties-512"><span class="linenos">512</span></a><span class="sd">    information theory properties for the Taylor and Mutual Information diagram</span>
</span><span id="df_calculate_all_properties-513"><a href="#df_calculate_all_properties-513"><span class="linenos">513</span></a><span class="sd">    from the input data set.</span>
</span><span id="df_calculate_all_properties-514"><a href="#df_calculate_all_properties-514"><span class="linenos">514</span></a>
</span><span id="df_calculate_all_properties-515"><a href="#df_calculate_all_properties-515"><span class="linenos">515</span></a><span class="sd">    Args:</span>
</span><span id="df_calculate_all_properties-516"><a href="#df_calculate_all_properties-516"><span class="linenos">516</span></a><span class="sd">        df_input (pandas.DataFrame): This dataframe has models in columns and</span>
</span><span id="df_calculate_all_properties-517"><a href="#df_calculate_all_properties-517"><span class="linenos">517</span></a><span class="sd">          model prediction in rows. It is used to calculate relevant</span>
</span><span id="df_calculate_all_properties-518"><a href="#df_calculate_all_properties-518"><span class="linenos">518</span></a><span class="sd">          statistical information and information theory properties.</span>
</span><span id="df_calculate_all_properties-519"><a href="#df_calculate_all_properties-519"><span class="linenos">519</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="df_calculate_all_properties-520"><a href="#df_calculate_all_properties-520"><span class="linenos">520</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="df_calculate_all_properties-521"><a href="#df_calculate_all_properties-521"><span class="linenos">521</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="df_calculate_all_properties-522"><a href="#df_calculate_all_properties-522"><span class="linenos">522</span></a><span class="sd">          the ground truth.</span>
</span><span id="df_calculate_all_properties-523"><a href="#df_calculate_all_properties-523"><span class="linenos">523</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="df_calculate_all_properties-524"><a href="#df_calculate_all_properties-524"><span class="linenos">524</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="df_calculate_all_properties-525"><a href="#df_calculate_all_properties-525"><span class="linenos">525</span></a><span class="sd">          information. Defaults to</span>
</span><span id="df_calculate_all_properties-526"><a href="#df_calculate_all_properties-526"><span class="linenos">526</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="df_calculate_all_properties-527"><a href="#df_calculate_all_properties-527"><span class="linenos">527</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_fetures=&#39;auto&#39;,</span>
</span><span id="df_calculate_all_properties-528"><a href="#df_calculate_all_properties-528"><span class="linenos">528</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="df_calculate_all_properties-529"><a href="#df_calculate_all_properties-529"><span class="linenos">529</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="df_calculate_all_properties-530"><a href="#df_calculate_all_properties-530"><span class="linenos">530</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="df_calculate_all_properties-531"><a href="#df_calculate_all_properties-531"><span class="linenos">531</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="df_calculate_all_properties-532"><a href="#df_calculate_all_properties-532"><span class="linenos">532</span></a>
</span><span id="df_calculate_all_properties-533"><a href="#df_calculate_all_properties-533"><span class="linenos">533</span></a><span class="sd">    Returns:</span>
</span><span id="df_calculate_all_properties-534"><a href="#df_calculate_all_properties-534"><span class="linenos">534</span></a><span class="sd">        pandas.DataFrame: This dataframe contains model names as indices and</span>
</span><span id="df_calculate_all_properties-535"><a href="#df_calculate_all_properties-535"><span class="linenos">535</span></a><span class="sd">          statistical and information theory properties as columns.</span>
</span><span id="df_calculate_all_properties-536"><a href="#df_calculate_all_properties-536"><span class="linenos">536</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="df_calculate_all_properties-537"><a href="#df_calculate_all_properties-537"><span class="linenos">537</span></a>    <span class="n">df_input</span> <span class="o">=</span> <span class="n">_df_check_df_raw_input</span><span class="p">(</span><span class="n">df_input</span><span class="p">)</span>
</span><span id="df_calculate_all_properties-538"><a href="#df_calculate_all_properties-538"><span class="linenos">538</span></a>
</span><span id="df_calculate_all_properties-539"><a href="#df_calculate_all_properties-539"><span class="linenos">539</span></a>    <span class="n">df_td</span> <span class="o">=</span> <span class="n">df_calculate_td_properties</span><span class="p">(</span>
</span><span id="df_calculate_all_properties-540"><a href="#df_calculate_all_properties-540"><span class="linenos">540</span></a>        <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">string_corr_method</span><span class="p">)</span>
</span><span id="df_calculate_all_properties-541"><a href="#df_calculate_all_properties-541"><span class="linenos">541</span></a>    <span class="n">df_mid</span> <span class="o">=</span> <span class="n">df_calculate_mid_properties</span><span class="p">(</span>
</span><span id="df_calculate_all_properties-542"><a href="#df_calculate_all_properties-542"><span class="linenos">542</span></a>        <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="df_calculate_all_properties-543"><a href="#df_calculate_all_properties-543"><span class="linenos">543</span></a>
</span><span id="df_calculate_all_properties-544"><a href="#df_calculate_all_properties-544"><span class="linenos">544</span></a>    <span class="n">df_result</span> <span class="o">=</span> <span class="n">df_td</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mid</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
</span><span id="df_calculate_all_properties-545"><a href="#df_calculate_all_properties-545"><span class="linenos">545</span></a>
</span><span id="df_calculate_all_properties-546"><a href="#df_calculate_all_properties-546"><span class="linenos">546</span></a>    <span class="n">_warning_check_identical_model_values</span><span class="p">(</span><span class="n">df_result</span><span class="p">)</span>
</span><span id="df_calculate_all_properties-547"><a href="#df_calculate_all_properties-547"><span class="linenos">547</span></a>
</span><span id="df_calculate_all_properties-548"><a href="#df_calculate_all_properties-548"><span class="linenos">548</span></a>    <span class="k">return</span> <span class="n">df_result</span>
</span></pre></div>


            <div class="docstring"><p>df_calculate_all_properties caclulates all necessary statistical and
information theory properties for the Taylor and Mutual Information diagram
from the input data set.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>df_input (pandas.DataFrame):</strong>  This dataframe has models in columns and
model prediction in rows. It is used to calculate relevant
statistical information and information theory properties.</li>
<li><strong>string_reference_model (str):</strong>  This string contains the name of the
model present in the df_input argument (as a column) which can be
considered as a reference point in the final diagram. This is often
the ground truth.</li>
<li><strong>dict_mi_parameters (dict, optional):</strong>  This dictionary contains
configuration parameters for the calculation of entropy and mutual
information. Defaults to
dict(int_mi_n_neighbors=3, string_entropy_method='auto',
     bool_discrete_reference_model=False, discrete_fetures='auto',
     int_random_state=_INT_RANDOM_SEED).</li>
<li><strong>string_corr_method (str, optional):</strong>  This string contains the name of
the method to be used when calculating the correlation. Defaults to
'pearson'.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>pandas.DataFrame: This dataframe contains model names as indices and
    statistical and information theory properties as columns.</p>
</blockquote>
</div>


                </section>
                <section id="chart_create_taylor_diagram">
                            <input id="chart_create_taylor_diagram-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">chart_create_taylor_diagram</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">list_df_input</span>,</span><span class="param">	<span class="n">string_reference_model</span>,</span><span class="param">	<span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span>,</span><span class="param">	<span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="chart_create_taylor_diagram-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#chart_create_taylor_diagram"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="chart_create_taylor_diagram-1033"><a href="#chart_create_taylor_diagram-1033"><span class="linenos">1033</span></a><span class="k">def</span> <span class="nf">chart_create_taylor_diagram</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_taylor_diagram-1034"><a href="#chart_create_taylor_diagram-1034"><span class="linenos">1034</span></a>                                <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span>
</span><span id="chart_create_taylor_diagram-1035"><a href="#chart_create_taylor_diagram-1035"><span class="linenos">1035</span></a>                                <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="chart_create_taylor_diagram-1036"><a href="#chart_create_taylor_diagram-1036"><span class="linenos">1036</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="chart_create_taylor_diagram-1037"><a href="#chart_create_taylor_diagram-1037"><span class="linenos">1037</span></a><span class="sd">    chart_create_taylor_diagram creates the Taylor diagram according to the</span>
</span><span id="chart_create_taylor_diagram-1038"><a href="#chart_create_taylor_diagram-1038"><span class="linenos">1038</span></a><span class="sd">    list_df_input argument where models are placed in columns and rows contain</span>
</span><span id="chart_create_taylor_diagram-1039"><a href="#chart_create_taylor_diagram-1039"><span class="linenos">1039</span></a><span class="sd">    model predictions.</span>
</span><span id="chart_create_taylor_diagram-1040"><a href="#chart_create_taylor_diagram-1040"><span class="linenos">1040</span></a>
</span><span id="chart_create_taylor_diagram-1041"><a href="#chart_create_taylor_diagram-1041"><span class="linenos">1041</span></a><span class="sd">    Args:</span>
</span><span id="chart_create_taylor_diagram-1042"><a href="#chart_create_taylor_diagram-1042"><span class="linenos">1042</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="chart_create_taylor_diagram-1043"><a href="#chart_create_taylor_diagram-1043"><span class="linenos">1043</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="chart_create_taylor_diagram-1044"><a href="#chart_create_taylor_diagram-1044"><span class="linenos">1044</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="chart_create_taylor_diagram-1045"><a href="#chart_create_taylor_diagram-1045"><span class="linenos">1045</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="chart_create_taylor_diagram-1046"><a href="#chart_create_taylor_diagram-1046"><span class="linenos">1046</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="chart_create_taylor_diagram-1047"><a href="#chart_create_taylor_diagram-1047"><span class="linenos">1047</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="chart_create_taylor_diagram-1048"><a href="#chart_create_taylor_diagram-1048"><span class="linenos">1048</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="chart_create_taylor_diagram-1049"><a href="#chart_create_taylor_diagram-1049"><span class="linenos">1049</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="chart_create_taylor_diagram-1050"><a href="#chart_create_taylor_diagram-1050"><span class="linenos">1050</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="chart_create_taylor_diagram-1051"><a href="#chart_create_taylor_diagram-1051"><span class="linenos">1051</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="chart_create_taylor_diagram-1052"><a href="#chart_create_taylor_diagram-1052"><span class="linenos">1052</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="chart_create_taylor_diagram-1053"><a href="#chart_create_taylor_diagram-1053"><span class="linenos">1053</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="chart_create_taylor_diagram-1054"><a href="#chart_create_taylor_diagram-1054"><span class="linenos">1054</span></a><span class="sd">          diagrams.</span>
</span><span id="chart_create_taylor_diagram-1055"><a href="#chart_create_taylor_diagram-1055"><span class="linenos">1055</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="chart_create_taylor_diagram-1056"><a href="#chart_create_taylor_diagram-1056"><span class="linenos">1056</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="chart_create_taylor_diagram-1057"><a href="#chart_create_taylor_diagram-1057"><span class="linenos">1057</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="chart_create_taylor_diagram-1058"><a href="#chart_create_taylor_diagram-1058"><span class="linenos">1058</span></a><span class="sd">          the ground truth.</span>
</span><span id="chart_create_taylor_diagram-1059"><a href="#chart_create_taylor_diagram-1059"><span class="linenos">1059</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="chart_create_taylor_diagram-1060"><a href="#chart_create_taylor_diagram-1060"><span class="linenos">1060</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="chart_create_taylor_diagram-1061"><a href="#chart_create_taylor_diagram-1061"><span class="linenos">1061</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="chart_create_taylor_diagram-1062"><a href="#chart_create_taylor_diagram-1062"><span class="linenos">1062</span></a><span class="sd">        bool_normalized_measures (bool, optional): This boolean parameter is</span>
</span><span id="chart_create_taylor_diagram-1063"><a href="#chart_create_taylor_diagram-1063"><span class="linenos">1063</span></a><span class="sd">          used to determine if the passed chart should have normalized entropy</span>
</span><span id="chart_create_taylor_diagram-1064"><a href="#chart_create_taylor_diagram-1064"><span class="linenos">1064</span></a><span class="sd">          and STD values or not. If it is False, then real entropy and STD</span>
</span><span id="chart_create_taylor_diagram-1065"><a href="#chart_create_taylor_diagram-1065"><span class="linenos">1065</span></a><span class="sd">          values are used for the radial axis. If it is True, normalized values</span>
</span><span id="chart_create_taylor_diagram-1066"><a href="#chart_create_taylor_diagram-1066"><span class="linenos">1066</span></a><span class="sd">          are used. Defaults to False.</span>
</span><span id="chart_create_taylor_diagram-1067"><a href="#chart_create_taylor_diagram-1067"><span class="linenos">1067</span></a>
</span><span id="chart_create_taylor_diagram-1068"><a href="#chart_create_taylor_diagram-1068"><span class="linenos">1068</span></a><span class="sd">    Raises:</span>
</span><span id="chart_create_taylor_diagram-1069"><a href="#chart_create_taylor_diagram-1069"><span class="linenos">1069</span></a><span class="sd">        ValueError: The error is raised if the string_corr_method is not one of</span>
</span><span id="chart_create_taylor_diagram-1070"><a href="#chart_create_taylor_diagram-1070"><span class="linenos">1070</span></a><span class="sd">          the following &#39;pearson&#39;, &#39;kendall&#39;, &#39;spearman&#39;.</span>
</span><span id="chart_create_taylor_diagram-1071"><a href="#chart_create_taylor_diagram-1071"><span class="linenos">1071</span></a><span class="sd">        TypeError: The error is raised if bool_notmalized_measures is not one</span>
</span><span id="chart_create_taylor_diagram-1072"><a href="#chart_create_taylor_diagram-1072"><span class="linenos">1072</span></a><span class="sd">          of bool type.</span>
</span><span id="chart_create_taylor_diagram-1073"><a href="#chart_create_taylor_diagram-1073"><span class="linenos">1073</span></a>
</span><span id="chart_create_taylor_diagram-1074"><a href="#chart_create_taylor_diagram-1074"><span class="linenos">1074</span></a><span class="sd">    Returns:</span>
</span><span id="chart_create_taylor_diagram-1075"><a href="#chart_create_taylor_diagram-1075"><span class="linenos">1075</span></a><span class="sd">       plotly.graph_objects.Figure: This chart contains the resulting Taylor</span>
</span><span id="chart_create_taylor_diagram-1076"><a href="#chart_create_taylor_diagram-1076"><span class="linenos">1076</span></a><span class="sd">         diagram.</span>
</span><span id="chart_create_taylor_diagram-1077"><a href="#chart_create_taylor_diagram-1077"><span class="linenos">1077</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="chart_create_taylor_diagram-1078"><a href="#chart_create_taylor_diagram-1078"><span class="linenos">1078</span></a>    <span class="n">list_df_input</span> <span class="o">=</span> <span class="n">_list_check_list_df_input</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span>
</span><span id="chart_create_taylor_diagram-1079"><a href="#chart_create_taylor_diagram-1079"><span class="linenos">1079</span></a>    <span class="n">list_df_td</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="chart_create_taylor_diagram-1080"><a href="#chart_create_taylor_diagram-1080"><span class="linenos">1080</span></a>    <span class="n">list_valid_corr_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span> <span class="s1">&#39;kendall&#39;</span><span class="p">,</span> <span class="s1">&#39;spearman&#39;</span><span class="p">]</span>
</span><span id="chart_create_taylor_diagram-1081"><a href="#chart_create_taylor_diagram-1081"><span class="linenos">1081</span></a>
</span><span id="chart_create_taylor_diagram-1082"><a href="#chart_create_taylor_diagram-1082"><span class="linenos">1082</span></a>    <span class="k">if</span> <span class="n">string_corr_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_corr_methods</span><span class="p">:</span>
</span><span id="chart_create_taylor_diagram-1083"><a href="#chart_create_taylor_diagram-1083"><span class="linenos">1083</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_corr_method is not one of the following:&#39;</span> <span class="o">+</span>
</span><span id="chart_create_taylor_diagram-1084"><a href="#chart_create_taylor_diagram-1084"><span class="linenos">1084</span></a>                         <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_corr_methods</span><span class="p">))</span>
</span><span id="chart_create_taylor_diagram-1085"><a href="#chart_create_taylor_diagram-1085"><span class="linenos">1085</span></a>
</span><span id="chart_create_taylor_diagram-1086"><a href="#chart_create_taylor_diagram-1086"><span class="linenos">1086</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="chart_create_taylor_diagram-1087"><a href="#chart_create_taylor_diagram-1087"><span class="linenos">1087</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;bool_normalized_measures must be of bool type&#39;</span><span class="p">)</span>
</span><span id="chart_create_taylor_diagram-1088"><a href="#chart_create_taylor_diagram-1088"><span class="linenos">1088</span></a>
</span><span id="chart_create_taylor_diagram-1089"><a href="#chart_create_taylor_diagram-1089"><span class="linenos">1089</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="chart_create_taylor_diagram-1090"><a href="#chart_create_taylor_diagram-1090"><span class="linenos">1090</span></a>        <span class="c1"># We have to check if the secons pandas.DataFrame has one or multiple</span>
</span><span id="chart_create_taylor_diagram-1091"><a href="#chart_create_taylor_diagram-1091"><span class="linenos">1091</span></a>        <span class="c1"># rows. If it has one, we encode that property using the size of the</span>
</span><span id="chart_create_taylor_diagram-1092"><a href="#chart_create_taylor_diagram-1092"><span class="linenos">1092</span></a>        <span class="c1"># mark of the resulting diagram. If it has multiple rows, we need to</span>
</span><span id="chart_create_taylor_diagram-1093"><a href="#chart_create_taylor_diagram-1093"><span class="linenos">1093</span></a>        <span class="c1"># calculate all information for that dataframe and we visualize both</span>
</span><span id="chart_create_taylor_diagram-1094"><a href="#chart_create_taylor_diagram-1094"><span class="linenos">1094</span></a>        <span class="c1"># using arrows in the resulting diagram</span>
</span><span id="chart_create_taylor_diagram-1095"><a href="#chart_create_taylor_diagram-1095"><span class="linenos">1095</span></a>        <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">df_input</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="chart_create_taylor_diagram-1096"><a href="#chart_create_taylor_diagram-1096"><span class="linenos">1096</span></a>            <span class="c1"># We don&#39;t calculate properties when we have one row</span>
</span><span id="chart_create_taylor_diagram-1097"><a href="#chart_create_taylor_diagram-1097"><span class="linenos">1097</span></a>            <span class="c1"># We consider that a scalar value which we encode using mark size</span>
</span><span id="chart_create_taylor_diagram-1098"><a href="#chart_create_taylor_diagram-1098"><span class="linenos">1098</span></a>            <span class="n">list_df_td</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="chart_create_taylor_diagram-1099"><a href="#chart_create_taylor_diagram-1099"><span class="linenos">1099</span></a>                <span class="n">df_input</span><span class="o">.</span><span class="n">melt</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
</span><span id="chart_create_taylor_diagram-1100"><a href="#chart_create_taylor_diagram-1100"><span class="linenos">1100</span></a>                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">}))</span>
</span><span id="chart_create_taylor_diagram-1101"><a href="#chart_create_taylor_diagram-1101"><span class="linenos">1101</span></a>            <span class="k">continue</span>
</span><span id="chart_create_taylor_diagram-1102"><a href="#chart_create_taylor_diagram-1102"><span class="linenos">1102</span></a>
</span><span id="chart_create_taylor_diagram-1103"><a href="#chart_create_taylor_diagram-1103"><span class="linenos">1103</span></a>        <span class="n">df_td</span> <span class="o">=</span> <span class="n">df_calculate_td_properties</span><span class="p">(</span>
</span><span id="chart_create_taylor_diagram-1104"><a href="#chart_create_taylor_diagram-1104"><span class="linenos">1104</span></a>            <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">string_corr_method</span><span class="p">)</span>
</span><span id="chart_create_taylor_diagram-1105"><a href="#chart_create_taylor_diagram-1105"><span class="linenos">1105</span></a>        <span class="n">list_df_td</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_td</span><span class="p">)</span>
</span><span id="chart_create_taylor_diagram-1106"><a href="#chart_create_taylor_diagram-1106"><span class="linenos">1106</span></a>
</span><span id="chart_create_taylor_diagram-1107"><a href="#chart_create_taylor_diagram-1107"><span class="linenos">1107</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="chart_create_taylor_diagram-1108"><a href="#chart_create_taylor_diagram-1108"><span class="linenos">1108</span></a>        <span class="n">list_df_td</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_taylor_diagram-1109"><a href="#chart_create_taylor_diagram-1109"><span class="linenos">1109</span></a>        <span class="n">string_mid_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="chart_create_taylor_diagram-1110"><a href="#chart_create_taylor_diagram-1110"><span class="linenos">1110</span></a>        <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;taylor&#39;</span><span class="p">,</span>
</span><span id="chart_create_taylor_diagram-1111"><a href="#chart_create_taylor_diagram-1111"><span class="linenos">1111</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="chart_create_taylor_diagram-1112"><a href="#chart_create_taylor_diagram-1112"><span class="linenos">1112</span></a>
</span><span id="chart_create_taylor_diagram-1113"><a href="#chart_create_taylor_diagram-1113"><span class="linenos">1113</span></a>    <span class="k">return</span> <span class="n">chart_result</span>
</span></pre></div>


            <div class="docstring"><p>chart_create_taylor_diagram creates the Taylor diagram according to the
list_df_input argument where models are placed in columns and rows contain
model predictions.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>list_df_input (list):</strong>  This list contains one or two dataframes which
have models in columns and model prediction in rows. If parsed as a
pd.DataFrame() object, it is considered as a first and only element
of the list. Each one of these dataframes is used to calculate
relevant statistical information and information theory properties.
If the list contains two elements, both dataframes need to have the
same set of columns. If the second dataframe contains only one row,
then this dataframe is considered to contain a property that is
encoded as using size of the marker of the resulting diagrams. If the
second dataframe contains multiple rows, it is then considered to be
a second version of the first dataframe in the list. This is then
encoded using solid borders around circle marks in the resulting
diagrams.</li>
<li><strong>string_reference_model (str):</strong>  This string contains the name of the
model present in the df_input argument (as a column) which can be
considered as a reference point in the final diagram. This is often
the ground truth.</li>
<li><strong>string_corr_method (str, optional):</strong>  This string contains the name of
the method to be used when calculating the correlation. Defaults to
'pearson'.</li>
<li><strong>bool_normalized_measures (bool, optional):</strong>  This boolean parameter is
used to determine if the passed chart should have normalized entropy
and STD values or not. If it is False, then real entropy and STD
values are used for the radial axis. If it is True, normalized values
are used. Defaults to False.</li>
</ul>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>ValueError:</strong>  The error is raised if the string_corr_method is not one of
the following 'pearson', 'kendall', 'spearman'.</li>
<li><strong>TypeError:</strong>  The error is raised if bool_notmalized_measures is not one
of bool type.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>plotly.graph_objects.Figure: This chart contains the resulting Taylor
    diagram.</p>
</blockquote>
</div>


                </section>
                <section id="chart_create_mi_diagram">
                            <input id="chart_create_mi_diagram-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">chart_create_mi_diagram</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">list_df_input</span>,</span><span class="param">	<span class="n">string_reference_model</span>,</span><span class="param">	<span class="n">string_mid_type</span><span class="o">=</span><span class="s1">&#39;scaled&#39;</span>,</span><span class="param">	<span class="n">dict_mi_parameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;string_entropy_method&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;discrete_models&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;int_random_state&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>,</span><span class="param">	<span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="chart_create_mi_diagram-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#chart_create_mi_diagram"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="chart_create_mi_diagram-1116"><a href="#chart_create_mi_diagram-1116"><span class="linenos">1116</span></a><span class="k">def</span> <span class="nf">chart_create_mi_diagram</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1117"><a href="#chart_create_mi_diagram-1117"><span class="linenos">1117</span></a>                            <span class="n">string_mid_type</span><span class="o">=</span><span class="s1">&#39;scaled&#39;</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1118"><a href="#chart_create_mi_diagram-1118"><span class="linenos">1118</span></a>                            <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="chart_create_mi_diagram-1119"><a href="#chart_create_mi_diagram-1119"><span class="linenos">1119</span></a>                                <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1120"><a href="#chart_create_mi_diagram-1120"><span class="linenos">1120</span></a>                                <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1121"><a href="#chart_create_mi_diagram-1121"><span class="linenos">1121</span></a>                                <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1122"><a href="#chart_create_mi_diagram-1122"><span class="linenos">1122</span></a>                                <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1123"><a href="#chart_create_mi_diagram-1123"><span class="linenos">1123</span></a>                                <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">),</span>
</span><span id="chart_create_mi_diagram-1124"><a href="#chart_create_mi_diagram-1124"><span class="linenos">1124</span></a>                            <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="chart_create_mi_diagram-1125"><a href="#chart_create_mi_diagram-1125"><span class="linenos">1125</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="chart_create_mi_diagram-1126"><a href="#chart_create_mi_diagram-1126"><span class="linenos">1126</span></a><span class="sd">    chart_create_mi_diagram creates the Mutual Information diagram according</span>
</span><span id="chart_create_mi_diagram-1127"><a href="#chart_create_mi_diagram-1127"><span class="linenos">1127</span></a><span class="sd">    to the list_df_input argument where models are placed in columns and rows</span>
</span><span id="chart_create_mi_diagram-1128"><a href="#chart_create_mi_diagram-1128"><span class="linenos">1128</span></a><span class="sd">    contain model predictions.</span>
</span><span id="chart_create_mi_diagram-1129"><a href="#chart_create_mi_diagram-1129"><span class="linenos">1129</span></a>
</span><span id="chart_create_mi_diagram-1130"><a href="#chart_create_mi_diagram-1130"><span class="linenos">1130</span></a><span class="sd">    Args:</span>
</span><span id="chart_create_mi_diagram-1131"><a href="#chart_create_mi_diagram-1131"><span class="linenos">1131</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="chart_create_mi_diagram-1132"><a href="#chart_create_mi_diagram-1132"><span class="linenos">1132</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="chart_create_mi_diagram-1133"><a href="#chart_create_mi_diagram-1133"><span class="linenos">1133</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="chart_create_mi_diagram-1134"><a href="#chart_create_mi_diagram-1134"><span class="linenos">1134</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="chart_create_mi_diagram-1135"><a href="#chart_create_mi_diagram-1135"><span class="linenos">1135</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="chart_create_mi_diagram-1136"><a href="#chart_create_mi_diagram-1136"><span class="linenos">1136</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="chart_create_mi_diagram-1137"><a href="#chart_create_mi_diagram-1137"><span class="linenos">1137</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="chart_create_mi_diagram-1138"><a href="#chart_create_mi_diagram-1138"><span class="linenos">1138</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="chart_create_mi_diagram-1139"><a href="#chart_create_mi_diagram-1139"><span class="linenos">1139</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="chart_create_mi_diagram-1140"><a href="#chart_create_mi_diagram-1140"><span class="linenos">1140</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="chart_create_mi_diagram-1141"><a href="#chart_create_mi_diagram-1141"><span class="linenos">1141</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="chart_create_mi_diagram-1142"><a href="#chart_create_mi_diagram-1142"><span class="linenos">1142</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="chart_create_mi_diagram-1143"><a href="#chart_create_mi_diagram-1143"><span class="linenos">1143</span></a><span class="sd">          diagrams.</span>
</span><span id="chart_create_mi_diagram-1144"><a href="#chart_create_mi_diagram-1144"><span class="linenos">1144</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="chart_create_mi_diagram-1145"><a href="#chart_create_mi_diagram-1145"><span class="linenos">1145</span></a><span class="sd">          model present in the df_input argument (as a column) which can be</span>
</span><span id="chart_create_mi_diagram-1146"><a href="#chart_create_mi_diagram-1146"><span class="linenos">1146</span></a><span class="sd">          considered as a reference point in the final diagram. This is often</span>
</span><span id="chart_create_mi_diagram-1147"><a href="#chart_create_mi_diagram-1147"><span class="linenos">1147</span></a><span class="sd">          the ground truth.</span>
</span><span id="chart_create_mi_diagram-1148"><a href="#chart_create_mi_diagram-1148"><span class="linenos">1148</span></a><span class="sd">        string_mid_type (str, optional): This string contains the type of the</span>
</span><span id="chart_create_mi_diagram-1149"><a href="#chart_create_mi_diagram-1149"><span class="linenos">1149</span></a><span class="sd">          Mutual Information diagram. If it is &#39;scaled&#39; then it will span both</span>
</span><span id="chart_create_mi_diagram-1150"><a href="#chart_create_mi_diagram-1150"><span class="linenos">1150</span></a><span class="sd">          quadrants. If it is &#39;normalized&#39;, it will span only the first</span>
</span><span id="chart_create_mi_diagram-1151"><a href="#chart_create_mi_diagram-1151"><span class="linenos">1151</span></a><span class="sd">          quadrant of the circle. Defaults to &#39;scaled&#39;.</span>
</span><span id="chart_create_mi_diagram-1152"><a href="#chart_create_mi_diagram-1152"><span class="linenos">1152</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="chart_create_mi_diagram-1153"><a href="#chart_create_mi_diagram-1153"><span class="linenos">1153</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="chart_create_mi_diagram-1154"><a href="#chart_create_mi_diagram-1154"><span class="linenos">1154</span></a><span class="sd">          information. Defaults to</span>
</span><span id="chart_create_mi_diagram-1155"><a href="#chart_create_mi_diagram-1155"><span class="linenos">1155</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="chart_create_mi_diagram-1156"><a href="#chart_create_mi_diagram-1156"><span class="linenos">1156</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_fetures=&#39;auto&#39;,</span>
</span><span id="chart_create_mi_diagram-1157"><a href="#chart_create_mi_diagram-1157"><span class="linenos">1157</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="chart_create_mi_diagram-1158"><a href="#chart_create_mi_diagram-1158"><span class="linenos">1158</span></a><span class="sd">        bool_normalized_measures (bool, optional): This boolean parameter is</span>
</span><span id="chart_create_mi_diagram-1159"><a href="#chart_create_mi_diagram-1159"><span class="linenos">1159</span></a><span class="sd">          used to determine if the passed chart should have normalized entropy</span>
</span><span id="chart_create_mi_diagram-1160"><a href="#chart_create_mi_diagram-1160"><span class="linenos">1160</span></a><span class="sd">          and STD values or not. If it is False, then real entropy and STD</span>
</span><span id="chart_create_mi_diagram-1161"><a href="#chart_create_mi_diagram-1161"><span class="linenos">1161</span></a><span class="sd">          values are used for the radial axis. If it is True, normalized values</span>
</span><span id="chart_create_mi_diagram-1162"><a href="#chart_create_mi_diagram-1162"><span class="linenos">1162</span></a><span class="sd">          are used. Defaults to False.</span>
</span><span id="chart_create_mi_diagram-1163"><a href="#chart_create_mi_diagram-1163"><span class="linenos">1163</span></a>
</span><span id="chart_create_mi_diagram-1164"><a href="#chart_create_mi_diagram-1164"><span class="linenos">1164</span></a><span class="sd">    Raises:</span>
</span><span id="chart_create_mi_diagram-1165"><a href="#chart_create_mi_diagram-1165"><span class="linenos">1165</span></a><span class="sd">        TypeError: The error is raised if bool_notmalized_measures is not one</span>
</span><span id="chart_create_mi_diagram-1166"><a href="#chart_create_mi_diagram-1166"><span class="linenos">1166</span></a><span class="sd">          of bool type.</span>
</span><span id="chart_create_mi_diagram-1167"><a href="#chart_create_mi_diagram-1167"><span class="linenos">1167</span></a><span class="sd">        ValueError: The error is raised if string_mid_type is not one of</span>
</span><span id="chart_create_mi_diagram-1168"><a href="#chart_create_mi_diagram-1168"><span class="linenos">1168</span></a><span class="sd">          the following &#39;scaled&#39;, &#39;normalized&#39;.</span>
</span><span id="chart_create_mi_diagram-1169"><a href="#chart_create_mi_diagram-1169"><span class="linenos">1169</span></a>
</span><span id="chart_create_mi_diagram-1170"><a href="#chart_create_mi_diagram-1170"><span class="linenos">1170</span></a><span class="sd">    Returns:</span>
</span><span id="chart_create_mi_diagram-1171"><a href="#chart_create_mi_diagram-1171"><span class="linenos">1171</span></a><span class="sd">        plotly.graph_objects.Figure: This chart contains the resulting Mutual</span>
</span><span id="chart_create_mi_diagram-1172"><a href="#chart_create_mi_diagram-1172"><span class="linenos">1172</span></a><span class="sd">          Information diagram.</span>
</span><span id="chart_create_mi_diagram-1173"><a href="#chart_create_mi_diagram-1173"><span class="linenos">1173</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="chart_create_mi_diagram-1174"><a href="#chart_create_mi_diagram-1174"><span class="linenos">1174</span></a>
</span><span id="chart_create_mi_diagram-1175"><a href="#chart_create_mi_diagram-1175"><span class="linenos">1175</span></a>    <span class="n">list_valid_mid_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;normalized&#39;</span><span class="p">,</span> <span class="s1">&#39;scaled&#39;</span><span class="p">]</span>
</span><span id="chart_create_mi_diagram-1176"><a href="#chart_create_mi_diagram-1176"><span class="linenos">1176</span></a>
</span><span id="chart_create_mi_diagram-1177"><a href="#chart_create_mi_diagram-1177"><span class="linenos">1177</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="chart_create_mi_diagram-1178"><a href="#chart_create_mi_diagram-1178"><span class="linenos">1178</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;bool_normalized_measures must be of bool type&#39;</span><span class="p">)</span>
</span><span id="chart_create_mi_diagram-1179"><a href="#chart_create_mi_diagram-1179"><span class="linenos">1179</span></a>
</span><span id="chart_create_mi_diagram-1180"><a href="#chart_create_mi_diagram-1180"><span class="linenos">1180</span></a>    <span class="k">if</span> <span class="n">string_mid_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_mid_types</span><span class="p">:</span>
</span><span id="chart_create_mi_diagram-1181"><a href="#chart_create_mi_diagram-1181"><span class="linenos">1181</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_mid_type not in &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_mid_types</span><span class="p">))</span>
</span><span id="chart_create_mi_diagram-1182"><a href="#chart_create_mi_diagram-1182"><span class="linenos">1182</span></a>
</span><span id="chart_create_mi_diagram-1183"><a href="#chart_create_mi_diagram-1183"><span class="linenos">1183</span></a>    <span class="n">list_df_input</span> <span class="o">=</span> <span class="n">_list_check_list_df_input</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span>
</span><span id="chart_create_mi_diagram-1184"><a href="#chart_create_mi_diagram-1184"><span class="linenos">1184</span></a>    <span class="n">list_df_mid</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="chart_create_mi_diagram-1185"><a href="#chart_create_mi_diagram-1185"><span class="linenos">1185</span></a>
</span><span id="chart_create_mi_diagram-1186"><a href="#chart_create_mi_diagram-1186"><span class="linenos">1186</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="chart_create_mi_diagram-1187"><a href="#chart_create_mi_diagram-1187"><span class="linenos">1187</span></a>        <span class="c1"># We have to check if the secons pandas.DataFrame has one or multiple</span>
</span><span id="chart_create_mi_diagram-1188"><a href="#chart_create_mi_diagram-1188"><span class="linenos">1188</span></a>        <span class="c1"># rows. If it has one, we encode that property using the size of the</span>
</span><span id="chart_create_mi_diagram-1189"><a href="#chart_create_mi_diagram-1189"><span class="linenos">1189</span></a>        <span class="c1"># mark of the resulting diagram. If it has multiple rows, we need to</span>
</span><span id="chart_create_mi_diagram-1190"><a href="#chart_create_mi_diagram-1190"><span class="linenos">1190</span></a>        <span class="c1"># calculate all information for that dataframe and we visualize both</span>
</span><span id="chart_create_mi_diagram-1191"><a href="#chart_create_mi_diagram-1191"><span class="linenos">1191</span></a>        <span class="c1"># using arrows in the resulting diagram</span>
</span><span id="chart_create_mi_diagram-1192"><a href="#chart_create_mi_diagram-1192"><span class="linenos">1192</span></a>        <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">df_input</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="chart_create_mi_diagram-1193"><a href="#chart_create_mi_diagram-1193"><span class="linenos">1193</span></a>            <span class="c1"># We don&#39;t calculate properties when we have one row</span>
</span><span id="chart_create_mi_diagram-1194"><a href="#chart_create_mi_diagram-1194"><span class="linenos">1194</span></a>            <span class="c1"># We consider that a scalar value which we encode using mark size</span>
</span><span id="chart_create_mi_diagram-1195"><a href="#chart_create_mi_diagram-1195"><span class="linenos">1195</span></a>            <span class="n">list_df_mid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="chart_create_mi_diagram-1196"><a href="#chart_create_mi_diagram-1196"><span class="linenos">1196</span></a>                <span class="n">df_input</span><span class="o">.</span><span class="n">melt</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
</span><span id="chart_create_mi_diagram-1197"><a href="#chart_create_mi_diagram-1197"><span class="linenos">1197</span></a>                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">}))</span>
</span><span id="chart_create_mi_diagram-1198"><a href="#chart_create_mi_diagram-1198"><span class="linenos">1198</span></a>            <span class="k">continue</span>
</span><span id="chart_create_mi_diagram-1199"><a href="#chart_create_mi_diagram-1199"><span class="linenos">1199</span></a>
</span><span id="chart_create_mi_diagram-1200"><a href="#chart_create_mi_diagram-1200"><span class="linenos">1200</span></a>        <span class="n">df_mid</span> <span class="o">=</span> <span class="n">df_calculate_mid_properties</span><span class="p">(</span>
</span><span id="chart_create_mi_diagram-1201"><a href="#chart_create_mi_diagram-1201"><span class="linenos">1201</span></a>            <span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span> <span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="chart_create_mi_diagram-1202"><a href="#chart_create_mi_diagram-1202"><span class="linenos">1202</span></a>        <span class="n">list_df_mid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_mid</span><span class="p">)</span>
</span><span id="chart_create_mi_diagram-1203"><a href="#chart_create_mi_diagram-1203"><span class="linenos">1203</span></a>
</span><span id="chart_create_mi_diagram-1204"><a href="#chart_create_mi_diagram-1204"><span class="linenos">1204</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="chart_create_mi_diagram-1205"><a href="#chart_create_mi_diagram-1205"><span class="linenos">1205</span></a>        <span class="n">list_df_mid</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1206"><a href="#chart_create_mi_diagram-1206"><span class="linenos">1206</span></a>        <span class="n">string_mid_type</span><span class="o">=</span><span class="n">string_mid_type</span><span class="p">,</span> <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1207"><a href="#chart_create_mi_diagram-1207"><span class="linenos">1207</span></a>        <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;mid&#39;</span><span class="p">,</span>
</span><span id="chart_create_mi_diagram-1208"><a href="#chart_create_mi_diagram-1208"><span class="linenos">1208</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="chart_create_mi_diagram-1209"><a href="#chart_create_mi_diagram-1209"><span class="linenos">1209</span></a>
</span><span id="chart_create_mi_diagram-1210"><a href="#chart_create_mi_diagram-1210"><span class="linenos">1210</span></a>    <span class="k">return</span> <span class="n">chart_result</span>
</span></pre></div>


            <div class="docstring"><p>chart_create_mi_diagram creates the Mutual Information diagram according
to the list_df_input argument where models are placed in columns and rows
contain model predictions.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>list_df_input (list):</strong>  This list contains one or two dataframes which
have models in columns and model prediction in rows. If parsed as a
pd.DataFrame() object, it is considered as a first and only element
of the list. Each one of these dataframes is used to calculate
relevant statistical information and information theory properties.
If the list contains two elements, both dataframes need to have the
same set of columns. If the second dataframe contains only one row,
then this dataframe is considered to contain a property that is
encoded as using size of the marker of the resulting diagrams. If the
second dataframe contains multiple rows, it is then considered to be
a second version of the first dataframe in the list. This is then
encoded using solid borders around circle marks in the resulting
diagrams.</li>
<li><strong>string_reference_model (str):</strong>  This string contains the name of the
model present in the df_input argument (as a column) which can be
considered as a reference point in the final diagram. This is often
the ground truth.</li>
<li><strong>string_mid_type (str, optional):</strong>  This string contains the type of the
Mutual Information diagram. If it is 'scaled' then it will span both
quadrants. If it is 'normalized', it will span only the first
quadrant of the circle. Defaults to 'scaled'.</li>
<li><strong>dict_mi_parameters (dict, optional):</strong>  This dictionary contains
configuration parameters for the calculation of entropy and mutual
information. Defaults to
dict(int_mi_n_neighbors=3, string_entropy_method='auto',
     bool_discrete_reference_model=False, discrete_fetures='auto',
     int_random_state=_INT_RANDOM_SEED).</li>
<li><strong>bool_normalized_measures (bool, optional):</strong>  This boolean parameter is
used to determine if the passed chart should have normalized entropy
and STD values or not. If it is False, then real entropy and STD
values are used for the radial axis. If it is True, normalized values
are used. Defaults to False.</li>
</ul>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>TypeError:</strong>  The error is raised if bool_notmalized_measures is not one
of bool type.</li>
<li><strong>ValueError:</strong>  The error is raised if string_mid_type is not one of
the following 'scaled', 'normalized'.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>plotly.graph_objects.Figure: This chart contains the resulting Mutual
    Information diagram.</p>
</blockquote>
</div>


                </section>
                <section id="chart_create_all_diagrams">
                            <input id="chart_create_all_diagrams-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">chart_create_all_diagrams</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">list_df_input</span>,</span><span class="param">	<span class="n">string_reference_model</span>,</span><span class="param">	<span class="n">string_mid_type</span><span class="o">=</span><span class="s1">&#39;scaled&#39;</span>,</span><span class="param">	<span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span>,</span><span class="param">	<span class="n">dict_mi_parameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;string_entropy_method&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;int_mi_n_neighbors&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;discrete_models&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;bool_discrete_reference_model&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;int_random_state&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>,</span><span class="param">	<span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="chart_create_all_diagrams-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#chart_create_all_diagrams"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="chart_create_all_diagrams-1298"><a href="#chart_create_all_diagrams-1298"><span class="linenos">1298</span></a><span class="k">def</span> <span class="nf">chart_create_all_diagrams</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1299"><a href="#chart_create_all_diagrams-1299"><span class="linenos">1299</span></a>                              <span class="n">string_mid_type</span><span class="o">=</span><span class="s1">&#39;scaled&#39;</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1300"><a href="#chart_create_all_diagrams-1300"><span class="linenos">1300</span></a>                              <span class="n">string_corr_method</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1301"><a href="#chart_create_all_diagrams-1301"><span class="linenos">1301</span></a>                              <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1302"><a href="#chart_create_all_diagrams-1302"><span class="linenos">1302</span></a>                                  <span class="n">string_entropy_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1303"><a href="#chart_create_all_diagrams-1303"><span class="linenos">1303</span></a>                                  <span class="n">int_mi_n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1304"><a href="#chart_create_all_diagrams-1304"><span class="linenos">1304</span></a>                                  <span class="n">discrete_models</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1305"><a href="#chart_create_all_diagrams-1305"><span class="linenos">1305</span></a>                                  <span class="n">bool_discrete_reference_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1306"><a href="#chart_create_all_diagrams-1306"><span class="linenos">1306</span></a>                                  <span class="n">int_random_state</span><span class="o">=</span><span class="n">_INT_RANDOM_SEED</span><span class="p">),</span>
</span><span id="chart_create_all_diagrams-1307"><a href="#chart_create_all_diagrams-1307"><span class="linenos">1307</span></a>                              <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="chart_create_all_diagrams-1308"><a href="#chart_create_all_diagrams-1308"><span class="linenos">1308</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="chart_create_all_diagrams-1309"><a href="#chart_create_all_diagrams-1309"><span class="linenos">1309</span></a><span class="sd">    chart_create_all_diagrams creates both the Taylor and the Mutual</span>
</span><span id="chart_create_all_diagrams-1310"><a href="#chart_create_all_diagrams-1310"><span class="linenos">1310</span></a><span class="sd">    Information diagrams (side-by-side) according to the list_df_input argument</span>
</span><span id="chart_create_all_diagrams-1311"><a href="#chart_create_all_diagrams-1311"><span class="linenos">1311</span></a><span class="sd">    where models are placed in columns and rows contain model predictions.</span>
</span><span id="chart_create_all_diagrams-1312"><a href="#chart_create_all_diagrams-1312"><span class="linenos">1312</span></a>
</span><span id="chart_create_all_diagrams-1313"><a href="#chart_create_all_diagrams-1313"><span class="linenos">1313</span></a><span class="sd">    Args:</span>
</span><span id="chart_create_all_diagrams-1314"><a href="#chart_create_all_diagrams-1314"><span class="linenos">1314</span></a><span class="sd">        list_df_input (list): This list contains one or two dataframes which</span>
</span><span id="chart_create_all_diagrams-1315"><a href="#chart_create_all_diagrams-1315"><span class="linenos">1315</span></a><span class="sd">          have models in columns and model prediction in rows. If parsed as a</span>
</span><span id="chart_create_all_diagrams-1316"><a href="#chart_create_all_diagrams-1316"><span class="linenos">1316</span></a><span class="sd">          pd.DataFrame() object, it is considered as a first and only element</span>
</span><span id="chart_create_all_diagrams-1317"><a href="#chart_create_all_diagrams-1317"><span class="linenos">1317</span></a><span class="sd">          of the list. Each one of these dataframes is used to calculate</span>
</span><span id="chart_create_all_diagrams-1318"><a href="#chart_create_all_diagrams-1318"><span class="linenos">1318</span></a><span class="sd">          relevant statistical information and information theory properties.</span>
</span><span id="chart_create_all_diagrams-1319"><a href="#chart_create_all_diagrams-1319"><span class="linenos">1319</span></a><span class="sd">          If the list contains two elements, both dataframes need to have the</span>
</span><span id="chart_create_all_diagrams-1320"><a href="#chart_create_all_diagrams-1320"><span class="linenos">1320</span></a><span class="sd">          same set of columns. If the second dataframe contains only one row,</span>
</span><span id="chart_create_all_diagrams-1321"><a href="#chart_create_all_diagrams-1321"><span class="linenos">1321</span></a><span class="sd">          then this dataframe is considered to contain a property that is</span>
</span><span id="chart_create_all_diagrams-1322"><a href="#chart_create_all_diagrams-1322"><span class="linenos">1322</span></a><span class="sd">          encoded as using size of the marker of the resulting diagrams. If the</span>
</span><span id="chart_create_all_diagrams-1323"><a href="#chart_create_all_diagrams-1323"><span class="linenos">1323</span></a><span class="sd">          second dataframe contains multiple rows, it is then considered to be</span>
</span><span id="chart_create_all_diagrams-1324"><a href="#chart_create_all_diagrams-1324"><span class="linenos">1324</span></a><span class="sd">          a second version of the first dataframe in the list. This is then</span>
</span><span id="chart_create_all_diagrams-1325"><a href="#chart_create_all_diagrams-1325"><span class="linenos">1325</span></a><span class="sd">          encoded using solid borders around circle marks in the resulting</span>
</span><span id="chart_create_all_diagrams-1326"><a href="#chart_create_all_diagrams-1326"><span class="linenos">1326</span></a><span class="sd">          diagrams.</span>
</span><span id="chart_create_all_diagrams-1327"><a href="#chart_create_all_diagrams-1327"><span class="linenos">1327</span></a><span class="sd">        string_reference_model (str): This string contains the name of the</span>
</span><span id="chart_create_all_diagrams-1328"><a href="#chart_create_all_diagrams-1328"><span class="linenos">1328</span></a><span class="sd">          model present in one or both elements of the list_df_input argument</span>
</span><span id="chart_create_all_diagrams-1329"><a href="#chart_create_all_diagrams-1329"><span class="linenos">1329</span></a><span class="sd">          (as a column) which can be considered as a reference point in the</span>
</span><span id="chart_create_all_diagrams-1330"><a href="#chart_create_all_diagrams-1330"><span class="linenos">1330</span></a><span class="sd">          final diagram. This is often the ground truth.</span>
</span><span id="chart_create_all_diagrams-1331"><a href="#chart_create_all_diagrams-1331"><span class="linenos">1331</span></a><span class="sd">        string_corr_method (str, optional): This string contains the name of</span>
</span><span id="chart_create_all_diagrams-1332"><a href="#chart_create_all_diagrams-1332"><span class="linenos">1332</span></a><span class="sd">          the method to be used when calculating the correlation. Defaults to</span>
</span><span id="chart_create_all_diagrams-1333"><a href="#chart_create_all_diagrams-1333"><span class="linenos">1333</span></a><span class="sd">          &#39;pearson&#39;.</span>
</span><span id="chart_create_all_diagrams-1334"><a href="#chart_create_all_diagrams-1334"><span class="linenos">1334</span></a><span class="sd">        string_mid_type (str, optional): This string contains the type of the</span>
</span><span id="chart_create_all_diagrams-1335"><a href="#chart_create_all_diagrams-1335"><span class="linenos">1335</span></a><span class="sd">          Mutual Information diagram. If it is &#39;scaled&#39; then it will span both</span>
</span><span id="chart_create_all_diagrams-1336"><a href="#chart_create_all_diagrams-1336"><span class="linenos">1336</span></a><span class="sd">          quadrants. If it is &#39;normalized&#39;, it will span only the first</span>
</span><span id="chart_create_all_diagrams-1337"><a href="#chart_create_all_diagrams-1337"><span class="linenos">1337</span></a><span class="sd">          quadrant of the circle. Defaults to &#39;scaled&#39;.</span>
</span><span id="chart_create_all_diagrams-1338"><a href="#chart_create_all_diagrams-1338"><span class="linenos">1338</span></a><span class="sd">        dict_mi_parameters (dict, optional): This dictionary contains</span>
</span><span id="chart_create_all_diagrams-1339"><a href="#chart_create_all_diagrams-1339"><span class="linenos">1339</span></a><span class="sd">          configuration parameters for the calculation of entropy and mutual</span>
</span><span id="chart_create_all_diagrams-1340"><a href="#chart_create_all_diagrams-1340"><span class="linenos">1340</span></a><span class="sd">          information. Defaults to</span>
</span><span id="chart_create_all_diagrams-1341"><a href="#chart_create_all_diagrams-1341"><span class="linenos">1341</span></a><span class="sd">          dict(int_mi_n_neighbors=3, string_entropy_method=&#39;auto&#39;,</span>
</span><span id="chart_create_all_diagrams-1342"><a href="#chart_create_all_diagrams-1342"><span class="linenos">1342</span></a><span class="sd">               bool_discrete_reference_model=False, discrete_fetures=&#39;auto&#39;,</span>
</span><span id="chart_create_all_diagrams-1343"><a href="#chart_create_all_diagrams-1343"><span class="linenos">1343</span></a><span class="sd">               int_random_state=_INT_RANDOM_SEED).</span>
</span><span id="chart_create_all_diagrams-1344"><a href="#chart_create_all_diagrams-1344"><span class="linenos">1344</span></a><span class="sd">        bool_normalized_measures (bool, optional): This boolean parameter is</span>
</span><span id="chart_create_all_diagrams-1345"><a href="#chart_create_all_diagrams-1345"><span class="linenos">1345</span></a><span class="sd">          used to determine if the passed chart should have normalized entropy</span>
</span><span id="chart_create_all_diagrams-1346"><a href="#chart_create_all_diagrams-1346"><span class="linenos">1346</span></a><span class="sd">          and STD values or not. If it is False, then real entropy and STD</span>
</span><span id="chart_create_all_diagrams-1347"><a href="#chart_create_all_diagrams-1347"><span class="linenos">1347</span></a><span class="sd">          values are used for the radial axis. If it is True, normalized values</span>
</span><span id="chart_create_all_diagrams-1348"><a href="#chart_create_all_diagrams-1348"><span class="linenos">1348</span></a><span class="sd">          are used. Defaults to False.</span>
</span><span id="chart_create_all_diagrams-1349"><a href="#chart_create_all_diagrams-1349"><span class="linenos">1349</span></a>
</span><span id="chart_create_all_diagrams-1350"><a href="#chart_create_all_diagrams-1350"><span class="linenos">1350</span></a><span class="sd">    Raises:</span>
</span><span id="chart_create_all_diagrams-1351"><a href="#chart_create_all_diagrams-1351"><span class="linenos">1351</span></a><span class="sd">        TypeError: The error is raised if bool_notmalized_measures is not one</span>
</span><span id="chart_create_all_diagrams-1352"><a href="#chart_create_all_diagrams-1352"><span class="linenos">1352</span></a><span class="sd">          of bool type.</span>
</span><span id="chart_create_all_diagrams-1353"><a href="#chart_create_all_diagrams-1353"><span class="linenos">1353</span></a><span class="sd">        ValueError: The error is raised if string_mid_type is not one of</span>
</span><span id="chart_create_all_diagrams-1354"><a href="#chart_create_all_diagrams-1354"><span class="linenos">1354</span></a><span class="sd">          the following &#39;scaled&#39;, &#39;normalized&#39;.</span>
</span><span id="chart_create_all_diagrams-1355"><a href="#chart_create_all_diagrams-1355"><span class="linenos">1355</span></a>
</span><span id="chart_create_all_diagrams-1356"><a href="#chart_create_all_diagrams-1356"><span class="linenos">1356</span></a><span class="sd">    Returns:</span>
</span><span id="chart_create_all_diagrams-1357"><a href="#chart_create_all_diagrams-1357"><span class="linenos">1357</span></a><span class="sd">        plotly.graph_objects.Figure: This chart contains the both the Taylor</span>
</span><span id="chart_create_all_diagrams-1358"><a href="#chart_create_all_diagrams-1358"><span class="linenos">1358</span></a><span class="sd">          and the Mutual Information diagrams side-by-side.</span>
</span><span id="chart_create_all_diagrams-1359"><a href="#chart_create_all_diagrams-1359"><span class="linenos">1359</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="chart_create_all_diagrams-1360"><a href="#chart_create_all_diagrams-1360"><span class="linenos">1360</span></a>
</span><span id="chart_create_all_diagrams-1361"><a href="#chart_create_all_diagrams-1361"><span class="linenos">1361</span></a>    <span class="n">list_valid_mid_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;normalized&#39;</span><span class="p">,</span> <span class="s1">&#39;scaled&#39;</span><span class="p">]</span>
</span><span id="chart_create_all_diagrams-1362"><a href="#chart_create_all_diagrams-1362"><span class="linenos">1362</span></a>
</span><span id="chart_create_all_diagrams-1363"><a href="#chart_create_all_diagrams-1363"><span class="linenos">1363</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bool_normalized_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="chart_create_all_diagrams-1364"><a href="#chart_create_all_diagrams-1364"><span class="linenos">1364</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;bool_normalized_measures must be of bool type&#39;</span><span class="p">)</span>
</span><span id="chart_create_all_diagrams-1365"><a href="#chart_create_all_diagrams-1365"><span class="linenos">1365</span></a>
</span><span id="chart_create_all_diagrams-1366"><a href="#chart_create_all_diagrams-1366"><span class="linenos">1366</span></a>    <span class="k">if</span> <span class="n">string_mid_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_valid_mid_types</span><span class="p">:</span>
</span><span id="chart_create_all_diagrams-1367"><a href="#chart_create_all_diagrams-1367"><span class="linenos">1367</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;string_mid_type not in &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_valid_mid_types</span><span class="p">))</span>
</span><span id="chart_create_all_diagrams-1368"><a href="#chart_create_all_diagrams-1368"><span class="linenos">1368</span></a>
</span><span id="chart_create_all_diagrams-1369"><a href="#chart_create_all_diagrams-1369"><span class="linenos">1369</span></a>    <span class="n">list_df_input</span> <span class="o">=</span> <span class="n">_list_check_list_df_input</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">)</span>
</span><span id="chart_create_all_diagrams-1370"><a href="#chart_create_all_diagrams-1370"><span class="linenos">1370</span></a>
</span><span id="chart_create_all_diagrams-1371"><a href="#chart_create_all_diagrams-1371"><span class="linenos">1371</span></a>    <span class="n">string_combined_chart_title</span> <span class="o">=</span> <span class="s2">&quot;Taylor Diagram and Mutual Information Diagram&quot;</span> <span class="c1"># noqa</span>
</span><span id="chart_create_all_diagrams-1372"><a href="#chart_create_all_diagrams-1372"><span class="linenos">1372</span></a>    <span class="n">string_angular_title_td</span> <span class="o">=</span> <span class="s1">&#39;Correlation&#39;</span>
</span><span id="chart_create_all_diagrams-1373"><a href="#chart_create_all_diagrams-1373"><span class="linenos">1373</span></a>
</span><span id="chart_create_all_diagrams-1374"><a href="#chart_create_all_diagrams-1374"><span class="linenos">1374</span></a>    <span class="k">if</span> <span class="n">string_mid_type</span> <span class="o">==</span> <span class="s1">&#39;scaled&#39;</span><span class="p">:</span>
</span><span id="chart_create_all_diagrams-1375"><a href="#chart_create_all_diagrams-1375"><span class="linenos">1375</span></a>        <span class="n">string_angular_title_mid</span> <span class="o">=</span> <span class="s1">&#39;Scaled Mutual Information&#39;</span>
</span><span id="chart_create_all_diagrams-1376"><a href="#chart_create_all_diagrams-1376"><span class="linenos">1376</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="chart_create_all_diagrams-1377"><a href="#chart_create_all_diagrams-1377"><span class="linenos">1377</span></a>        <span class="n">string_angular_title_mid</span> <span class="o">=</span> <span class="s1">&#39;Normalized Mutual Information&#39;</span>
</span><span id="chart_create_all_diagrams-1378"><a href="#chart_create_all_diagrams-1378"><span class="linenos">1378</span></a>
</span><span id="chart_create_all_diagrams-1379"><a href="#chart_create_all_diagrams-1379"><span class="linenos">1379</span></a>    <span class="n">list_df_all</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="chart_create_all_diagrams-1380"><a href="#chart_create_all_diagrams-1380"><span class="linenos">1380</span></a>
</span><span id="chart_create_all_diagrams-1381"><a href="#chart_create_all_diagrams-1381"><span class="linenos">1381</span></a>    <span class="k">for</span> <span class="n">int_i</span><span class="p">,</span> <span class="n">df_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_input</span><span class="p">):</span>
</span><span id="chart_create_all_diagrams-1382"><a href="#chart_create_all_diagrams-1382"><span class="linenos">1382</span></a>        <span class="c1"># We have to check if the secons pandas.DataFrame has one or multiple</span>
</span><span id="chart_create_all_diagrams-1383"><a href="#chart_create_all_diagrams-1383"><span class="linenos">1383</span></a>        <span class="c1"># rows. If it has one, we encode that property using the concentric</span>
</span><span id="chart_create_all_diagrams-1384"><a href="#chart_create_all_diagrams-1384"><span class="linenos">1384</span></a>        <span class="c1"># circle around mark of the resulting diagram. If it has multiple rows,</span>
</span><span id="chart_create_all_diagrams-1385"><a href="#chart_create_all_diagrams-1385"><span class="linenos">1385</span></a>        <span class="c1"># we need to calculate all information for that dataframe and we</span>
</span><span id="chart_create_all_diagrams-1386"><a href="#chart_create_all_diagrams-1386"><span class="linenos">1386</span></a>        <span class="c1"># visualize both using circles with and without the border</span>
</span><span id="chart_create_all_diagrams-1387"><a href="#chart_create_all_diagrams-1387"><span class="linenos">1387</span></a>        <span class="k">if</span> <span class="n">int_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">df_input</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="chart_create_all_diagrams-1388"><a href="#chart_create_all_diagrams-1388"><span class="linenos">1388</span></a>            <span class="c1"># We don&#39;t calculate properties when we have one row</span>
</span><span id="chart_create_all_diagrams-1389"><a href="#chart_create_all_diagrams-1389"><span class="linenos">1389</span></a>            <span class="c1"># We consider that a scalar value which we encode using mark size</span>
</span><span id="chart_create_all_diagrams-1390"><a href="#chart_create_all_diagrams-1390"><span class="linenos">1390</span></a>            <span class="n">list_df_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_input</span><span class="o">.</span><span class="n">melt</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1391"><a href="#chart_create_all_diagrams-1391"><span class="linenos">1391</span></a>                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">}))</span>
</span><span id="chart_create_all_diagrams-1392"><a href="#chart_create_all_diagrams-1392"><span class="linenos">1392</span></a>            <span class="k">continue</span>
</span><span id="chart_create_all_diagrams-1393"><a href="#chart_create_all_diagrams-1393"><span class="linenos">1393</span></a>
</span><span id="chart_create_all_diagrams-1394"><a href="#chart_create_all_diagrams-1394"><span class="linenos">1394</span></a>        <span class="n">df_all</span> <span class="o">=</span> <span class="n">df_calculate_all_properties</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1395"><a href="#chart_create_all_diagrams-1395"><span class="linenos">1395</span></a>            <span class="n">df_input</span><span class="o">=</span><span class="n">df_input</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1396"><a href="#chart_create_all_diagrams-1396"><span class="linenos">1396</span></a>            <span class="n">string_corr_method</span><span class="o">=</span><span class="n">string_corr_method</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1397"><a href="#chart_create_all_diagrams-1397"><span class="linenos">1397</span></a>            <span class="n">dict_mi_parameters</span><span class="o">=</span><span class="n">dict_mi_parameters</span><span class="p">)</span>
</span><span id="chart_create_all_diagrams-1398"><a href="#chart_create_all_diagrams-1398"><span class="linenos">1398</span></a>        <span class="n">list_df_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df_all</span><span class="p">)</span>
</span><span id="chart_create_all_diagrams-1399"><a href="#chart_create_all_diagrams-1399"><span class="linenos">1399</span></a>
</span><span id="chart_create_all_diagrams-1400"><a href="#chart_create_all_diagrams-1400"><span class="linenos">1400</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">make_subplots</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1401"><a href="#chart_create_all_diagrams-1401"><span class="linenos">1401</span></a>        <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">specs</span><span class="o">=</span><span class="p">[[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;polar&#39;</span><span class="p">}]</span><span class="o">*</span><span class="mi">2</span><span class="p">],</span>
</span><span id="chart_create_all_diagrams-1402"><a href="#chart_create_all_diagrams-1402"><span class="linenos">1402</span></a>        <span class="n">subplot_titles</span><span class="o">=</span><span class="p">(</span><span class="n">string_angular_title_td</span><span class="p">,</span>  <span class="n">string_angular_title_mid</span><span class="p">))</span>
</span><span id="chart_create_all_diagrams-1403"><a href="#chart_create_all_diagrams-1403"><span class="linenos">1403</span></a>
</span><span id="chart_create_all_diagrams-1404"><a href="#chart_create_all_diagrams-1404"><span class="linenos">1404</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1405"><a href="#chart_create_all_diagrams-1405"><span class="linenos">1405</span></a>        <span class="n">list_df_all</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1406"><a href="#chart_create_all_diagrams-1406"><span class="linenos">1406</span></a>        <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">chart_result_upper</span><span class="o">=</span><span class="n">chart_result</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1407"><a href="#chart_create_all_diagrams-1407"><span class="linenos">1407</span></a>        <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;taylor&#39;</span><span class="p">,</span> <span class="n">string_mid_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1408"><a href="#chart_create_all_diagrams-1408"><span class="linenos">1408</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="chart_create_all_diagrams-1409"><a href="#chart_create_all_diagrams-1409"><span class="linenos">1409</span></a>
</span><span id="chart_create_all_diagrams-1410"><a href="#chart_create_all_diagrams-1410"><span class="linenos">1410</span></a>    <span class="n">chart_result</span> <span class="o">=</span> <span class="n">_chart_create_diagram</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1411"><a href="#chart_create_all_diagrams-1411"><span class="linenos">1411</span></a>        <span class="n">list_df_all</span><span class="p">,</span> <span class="n">string_reference_model</span><span class="o">=</span><span class="n">string_reference_model</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1412"><a href="#chart_create_all_diagrams-1412"><span class="linenos">1412</span></a>        <span class="n">string_mid_type</span><span class="o">=</span><span class="n">string_mid_type</span><span class="p">,</span> <span class="n">bool_flag_as_subplot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1413"><a href="#chart_create_all_diagrams-1413"><span class="linenos">1413</span></a>        <span class="n">chart_result_upper</span><span class="o">=</span><span class="n">chart_result</span><span class="p">,</span> <span class="n">string_diagram_type</span><span class="o">=</span><span class="s1">&#39;mid&#39;</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1414"><a href="#chart_create_all_diagrams-1414"><span class="linenos">1414</span></a>        <span class="n">bool_normalized_measures</span><span class="o">=</span><span class="n">bool_normalized_measures</span><span class="p">)</span>
</span><span id="chart_create_all_diagrams-1415"><a href="#chart_create_all_diagrams-1415"><span class="linenos">1415</span></a>
</span><span id="chart_create_all_diagrams-1416"><a href="#chart_create_all_diagrams-1416"><span class="linenos">1416</span></a>    <span class="n">chart_result</span><span class="o">.</span><span class="n">update_annotations</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1417"><a href="#chart_create_all_diagrams-1417"><span class="linenos">1417</span></a>        <span class="n">yshift</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">font_color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">)</span>
</span><span id="chart_create_all_diagrams-1418"><a href="#chart_create_all_diagrams-1418"><span class="linenos">1418</span></a>    <span class="n">chart_result</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1419"><a href="#chart_create_all_diagrams-1419"><span class="linenos">1419</span></a>        <span class="n">title</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1420"><a href="#chart_create_all_diagrams-1420"><span class="linenos">1420</span></a>            <span class="n">text</span><span class="o">=</span><span class="n">string_combined_chart_title</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1421"><a href="#chart_create_all_diagrams-1421"><span class="linenos">1421</span></a>            <span class="n">x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1422"><a href="#chart_create_all_diagrams-1422"><span class="linenos">1422</span></a>            <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1423"><a href="#chart_create_all_diagrams-1423"><span class="linenos">1423</span></a>            <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1424"><a href="#chart_create_all_diagrams-1424"><span class="linenos">1424</span></a>            <span class="n">yanchor</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1425"><a href="#chart_create_all_diagrams-1425"><span class="linenos">1425</span></a>            <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
</span><span id="chart_create_all_diagrams-1426"><a href="#chart_create_all_diagrams-1426"><span class="linenos">1426</span></a>                <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span id="chart_create_all_diagrams-1427"><a href="#chart_create_all_diagrams-1427"><span class="linenos">1427</span></a>                <span class="n">color</span><span class="o">=</span><span class="n">_STRING_LABEL_TITLE_COLOR</span><span class="p">)))</span>
</span><span id="chart_create_all_diagrams-1428"><a href="#chart_create_all_diagrams-1428"><span class="linenos">1428</span></a>
</span><span id="chart_create_all_diagrams-1429"><a href="#chart_create_all_diagrams-1429"><span class="linenos">1429</span></a>    <span class="k">return</span> <span class="n">chart_result</span>
</span></pre></div>


            <div class="docstring"><p>chart_create_all_diagrams creates both the Taylor and the Mutual
Information diagrams (side-by-side) according to the list_df_input argument
where models are placed in columns and rows contain model predictions.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>list_df_input (list):</strong>  This list contains one or two dataframes which
have models in columns and model prediction in rows. If parsed as a
pd.DataFrame() object, it is considered as a first and only element
of the list. Each one of these dataframes is used to calculate
relevant statistical information and information theory properties.
If the list contains two elements, both dataframes need to have the
same set of columns. If the second dataframe contains only one row,
then this dataframe is considered to contain a property that is
encoded as using size of the marker of the resulting diagrams. If the
second dataframe contains multiple rows, it is then considered to be
a second version of the first dataframe in the list. This is then
encoded using solid borders around circle marks in the resulting
diagrams.</li>
<li><strong>string_reference_model (str):</strong>  This string contains the name of the
model present in one or both elements of the list_df_input argument
(as a column) which can be considered as a reference point in the
final diagram. This is often the ground truth.</li>
<li><strong>string_corr_method (str, optional):</strong>  This string contains the name of
the method to be used when calculating the correlation. Defaults to
'pearson'.</li>
<li><strong>string_mid_type (str, optional):</strong>  This string contains the type of the
Mutual Information diagram. If it is 'scaled' then it will span both
quadrants. If it is 'normalized', it will span only the first
quadrant of the circle. Defaults to 'scaled'.</li>
<li><strong>dict_mi_parameters (dict, optional):</strong>  This dictionary contains
configuration parameters for the calculation of entropy and mutual
information. Defaults to
dict(int_mi_n_neighbors=3, string_entropy_method='auto',
     bool_discrete_reference_model=False, discrete_fetures='auto',
     int_random_state=_INT_RANDOM_SEED).</li>
<li><strong>bool_normalized_measures (bool, optional):</strong>  This boolean parameter is
used to determine if the passed chart should have normalized entropy
and STD values or not. If it is False, then real entropy and STD
values are used for the radial axis. If it is True, normalized values
are used. Defaults to False.</li>
</ul>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>TypeError:</strong>  The error is raised if bool_notmalized_measures is not one
of bool type.</li>
<li><strong>ValueError:</strong>  The error is raised if string_mid_type is not one of
the following 'scaled', 'normalized'.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>plotly.graph_objects.Figure: This chart contains the both the Taylor
    and the Mutual Information diagrams side-by-side.</p>
</blockquote>
</div>


                </section>
    </main>
</body>
</html>